import{cz as ef,co as tn,ba as A,dk as tf,cO as nf,dl as rf,cS as ni,aW as q,dm as sf,ct as Vo,dn as m,cF as of}from"./index.a7009179.js";import{j as af,i as cf}from"./js.7b17272d.js";import{s as uf}from"./index.0db9676a.js";function lf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var zs={},tr={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.walletLogo=void 0;const ff=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ri.walletLogo=ff;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.LINK_API_URL=void 0;ii.LINK_API_URL="https://www.walletlink.org";var si={};Object.defineProperty(si,"__esModule",{value:!0});si.ScopedLocalStorage=void 0;class df{constructor(e){this.scope=e}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`${this.scope}:${e}`}}si.ScopedLocalStorage=df;var vn={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});const hf=ef.exports;function zo(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout(()=>{throw r})}}function pf(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r+=1)n[r]=t[r];return n}class bf extends hf.EventEmitter{emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")zo(s,this,n);else{const o=s.length,a=pf(s);for(let c=0;c<o;c+=1)zo(a[c],this,n)}return!0}}nn.default=bf;var On={};Object.defineProperty(On,"__esModule",{value:!0});On.EVENTS=void 0;On.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var cr={},Us={},Lt={},gf=nr;nr.default=nr;nr.stable=_c;nr.stableStringify=_c;var qr="[...]",mc="[Circular]",Zt=[],Gt=[];function vc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function nr(t,e,n,r){typeof r>"u"&&(r=vc()),ws(t,"",0,[],void 0,0,r);var i;try{Gt.length===0?i=JSON.stringify(t,e,n):i=JSON.stringify(t,wc(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zt.length!==0;){var s=Zt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function bn(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),Zt.push([r,n,e,i])):Gt.push([e,n,t]):(r[n]=t,Zt.push([r,n,e]))}function ws(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){bn(mc,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){bn(qr,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){bn(qr,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ws(t[a],a,a,r,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];ws(t[u],u,a,r,t,s,o)}}r.pop()}}function yf(t,e){return t<e?-1:t>e?1:0}function _c(t,e,n,r){typeof r>"u"&&(r=vc());var i=Ss(t,"",0,[],void 0,0,r)||t,s;try{Gt.length===0?s=JSON.stringify(i,e,n):s=JSON.stringify(i,wc(e),n)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zt.length!==0;){var o=Zt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Ss(t,e,n,r,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t){bn(mc,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){bn(qr,t,e,i);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){bn(qr,t,e,i);return}if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Ss(t[a],a,a,r,t,s,o);else{var c={},u=Object.keys(t).sort(yf);for(a=0;a<u.length;a++){var l=u[a];Ss(t[l],l,a,r,t,s,o),c[l]=t[l]}if(typeof i<"u")Zt.push([i,e,t]),i[e]=c;else return c}r.pop()}}function wc(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(Gt.length>0)for(var r=0;r<Gt.length;r++){var i=Gt[r];if(i[1]===e&&i[0]===n){n=i[2],Gt.splice(r,1);break}}return t.call(this,e,n)}}Object.defineProperty(Lt,"__esModule",{value:!0});Lt.EthereumProviderError=Lt.EthereumRpcError=void 0;const mf=gf;class Sc extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return mf.default(this.serialize(),wf,2)}}Lt.EthereumRpcError=Sc;class vf extends Sc{constructor(e,n,r){if(!_f(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}Lt.EthereumProviderError=vf;function _f(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function wf(t,e){if(e!=="[Circular]")return e}var qs={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.errorValues=Pt.errorCodes=void 0;Pt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Pt,n=Lt,r=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,h=i){if(Number.isInteger(d)){const _=d.toString();if(f(e.errorValues,_))return e.errorValues[_].message;if(u(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return h}t.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const h=d.toString();return!!(e.errorValues[h]||u(d))}t.isValidCode=a;function c(d,{fallbackError:h=s,shouldIncludeStack:_=!1}={}){var x,w;if(!h||!Number.isInteger(h.code)||typeof h.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof n.EthereumRpcError)return d.serialize();const C={};if(d&&typeof d=="object"&&!Array.isArray(d)&&f(d,"code")&&a(d.code)){const v=d;C.code=v.code,v.message&&typeof v.message=="string"?(C.message=v.message,f(v,"data")&&(C.data=v.data)):(C.message=o(C.code),C.data={originalError:l(d)})}else{C.code=h.code;const v=(x=d)===null||x===void 0?void 0:x.message;C.message=v&&typeof v=="string"?v:h.message,C.data={originalError:l(d)}}const S=(w=d)===null||w===void 0?void 0:w.stack;return _&&d&&S&&typeof S=="string"&&(C.stack=S),C}t.serializeError=c;function u(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function f(d,h){return Object.prototype.hasOwnProperty.call(d,h)}})(qs);var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.ethErrors=void 0;const Js=Lt,Ec=qs,ke=Pt;oi.ethErrors={rpc:{parse:t=>We(ke.errorCodes.rpc.parse,t),invalidRequest:t=>We(ke.errorCodes.rpc.invalidRequest,t),invalidParams:t=>We(ke.errorCodes.rpc.invalidParams,t),methodNotFound:t=>We(ke.errorCodes.rpc.methodNotFound,t),internal:t=>We(ke.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return We(e,t)},invalidInput:t=>We(ke.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>We(ke.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>We(ke.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>We(ke.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>We(ke.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>We(ke.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vn(ke.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Vn(ke.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Vn(ke.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Vn(ke.errorCodes.provider.disconnected,t),chainDisconnected:t=>Vn(ke.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new Js.EthereumProviderError(e,n,r)}}};function We(t,e){const[n,r]=Cc(e);return new Js.EthereumRpcError(t,n||Ec.getMessageFromCode(t),r)}function Vn(t,e){const[n,r]=Cc(e);return new Js.EthereumProviderError(t,n||Ec.getMessageFromCode(t),r)}function Cc(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Lt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=qs;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=oi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=Pt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Us);var Y={},ai={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(ai);Object.defineProperty(Y,"__esModule",{value:!0});Y.EthereumAddressFromSignedMessageResponse=Y.SubmitEthereumTransactionResponse=Y.SignEthereumTransactionResponse=Y.SignEthereumMessageResponse=Y.isRequestEthereumAccountsResponse=Y.SelectProviderResponse=Y.WatchAssetReponse=Y.RequestEthereumAccountsResponse=Y.SwitchEthereumChainResponse=Y.AddEthereumChainResponse=Y.isErrorResponse=void 0;const gt=ai;function Sf(t){var e,n;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((n=t)===null||n===void 0?void 0:n.errorMessage)!==void 0}Y.isErrorResponse=Sf;function Ef(t){return{method:gt.Web3Method.addEthereumChain,result:t}}Y.AddEthereumChainResponse=Ef;function Cf(t){return{method:gt.Web3Method.switchEthereumChain,result:t}}Y.SwitchEthereumChainResponse=Cf;function xf(t){return{method:gt.Web3Method.requestEthereumAccounts,result:t}}Y.RequestEthereumAccountsResponse=xf;function kf(t){return{method:gt.Web3Method.watchAsset,result:t}}Y.WatchAssetReponse=kf;function If(t){return{method:gt.Web3Method.selectProvider,result:t}}Y.SelectProviderResponse=If;function Mf(t){return t&&t.method===gt.Web3Method.requestEthereumAccounts}Y.isRequestEthereumAccountsResponse=Mf;function Rf(t){return{method:gt.Web3Method.signEthereumMessage,result:t}}Y.SignEthereumMessageResponse=Rf;function Af(t){return{method:gt.Web3Method.signEthereumTransaction,result:t}}Y.SignEthereumTransactionResponse=Af;function Tf(t){return{method:gt.Web3Method.submitEthereumTransaction,result:t}}Y.SubmitEthereumTransactionResponse=Tf;function Of(t){return{method:gt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Y.EthereumAddressFromSignedMessageResponse=Of;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.LIB_VERSION=void 0;Nn.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Us,n=Y,r=Nn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(l){return l!==void 0?(0,e.getMessageFromCode)(l):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(l="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${l}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(l,f){const d=(0,e.serializeError)(o(l),{shouldIncludeStack:!0}),h=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");h.searchParams.set("version",r.LIB_VERSION),h.searchParams.set("code",d.code.toString());const _=a(d.data,f);return _&&h.searchParams.set("method",_),h.searchParams.set("message",d.message),Object.assign(Object.assign({},d),{docUrl:h.href})}t.serializeError=s;function o(l){return typeof l=="string"?{message:l,code:t.standardErrorCodes.rpc.internal}:(0,n.isErrorResponse)(l)?Object.assign(Object.assign({},l),{message:l.errorMessage,code:l.errorCode,data:{method:l.method,result:l.result}}):l}function a(l,f){var d;const h=(d=l)===null||d===void 0?void 0:d.method;if(h)return h;if(f!==void 0)return typeof f=="string"?f:Array.isArray(f)?f.length>0?f[0].method:void 0:f.method}function c(l){var f;if(typeof l=="number")return l;if(u(l))return(f=l.code)!==null&&f!==void 0?f:l.errorCode}t.getErrorCode=c;function u(l){return typeof l=="object"&&l!==null&&(typeof l.code=="number"||typeof l.errorCode=="number")}})(cr);var Ln={},R={};const Nf={},Lf=Object.freeze(Object.defineProperty({__proto__:null,default:Nf},Symbol.toStringTag,{value:"Module"})),Pf=tn(Lf);var Gs=typeof Map=="function"&&Map.prototype,Ki=Object.getOwnPropertyDescriptor&&Gs?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Jr=Gs&&Ki&&typeof Ki.get=="function"?Ki.get:null,Uo=Gs&&Map.prototype.forEach,Qs=typeof Set=="function"&&Set.prototype,Yi=Object.getOwnPropertyDescriptor&&Qs?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Gr=Qs&&Yi&&typeof Yi.get=="function"?Yi.get:null,qo=Qs&&Set.prototype.forEach,Df=typeof WeakMap=="function"&&WeakMap.prototype,Gn=Df?WeakMap.prototype.has:null,jf=typeof WeakSet=="function"&&WeakSet.prototype,Qn=jf?WeakSet.prototype.has:null,Ff=typeof WeakRef=="function"&&WeakRef.prototype,Jo=Ff?WeakRef.prototype.deref:null,Bf=Boolean.prototype.valueOf,$f=Object.prototype.toString,Wf=Function.prototype.toString,Hf=String.prototype.match,Zs=String.prototype.slice,Ot=String.prototype.replace,Vf=String.prototype.toUpperCase,Go=String.prototype.toLowerCase,xc=RegExp.prototype.test,Qo=Array.prototype.concat,lt=Array.prototype.join,zf=Array.prototype.slice,Zo=Math.floor,Es=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Xi=Object.getOwnPropertySymbols,Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_n=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Me=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_n?"object":"symbol")?Symbol.toStringTag:null,kc=Object.prototype.propertyIsEnumerable,Ko=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Yo(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xc.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Zo(-t):Zo(t);if(r!==t){var i=String(r),s=Zs.call(e,i.length+1);return Ot.call(i,n,"$&_")+"."+Ot.call(Ot.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ot.call(e,n,"$&_")}var xs=Pf,Xo=xs.custom,ea=Mc(Xo)?Xo:null,Uf=function t(e,n,r,i){var s=n||{};if(Rt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Rt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ac(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Yo(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?Yo(e,u):u}var l=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=l&&l>0&&typeof e=="object")return ks(e)?"[Array]":"[Object]";var f=ud(s,r);if(typeof i>"u")i=[];else if(Rc(i,e)>=0)return"[Circular]";function d(ue,Ce,Re){if(Ce&&(i=zf.call(i),i.push(Ce)),Re){var j={depth:s.depth};return Rt(s,"quoteStyle")&&(j.quoteStyle=s.quoteStyle),t(ue,j,r+1,i)}return t(ue,s,r+1,i)}if(typeof e=="function"&&!ta(e)){var h=ed(e),_=Rr(e,d);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(_.length>0?" { "+lt.call(_,", ")+" }":"")}if(Mc(e)){var x=_n?Ot.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Cs.call(e);return typeof e=="object"&&!_n?zn(x):x}if(od(e)){for(var w="<"+Go.call(String(e.nodeName)),C=e.attributes||[],S=0;S<C.length;S++)w+=" "+C[S].name+"="+Ic(qf(C[S].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+Go.call(String(e.nodeName))+">",w}if(ks(e)){if(e.length===0)return"[]";var v=Rr(e,d);return f&&!cd(v)?"["+Is(v,f)+"]":"[ "+lt.call(v,", ")+" ]"}if(Gf(e)){var M=Rr(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!kc.call(e,"cause")?"{ ["+String(e)+"] "+lt.call(Qo.call("[cause]: "+d(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+lt.call(M,", ")+" }"}if(typeof e=="object"&&o){if(ea&&typeof e[ea]=="function"&&xs)return xs(e,{depth:l-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(td(e)){var k=[];return Uo&&Uo.call(e,function(ue,Ce){k.push(d(Ce,e,!0)+" => "+d(ue,e))}),na("Map",Jr.call(e),k,f)}if(id(e)){var N=[];return qo&&qo.call(e,function(ue){N.push(d(ue,e))}),na("Set",Gr.call(e),N,f)}if(nd(e))return es("WeakMap");if(sd(e))return es("WeakSet");if(rd(e))return es("WeakRef");if(Zf(e))return zn(d(Number(e)));if(Yf(e))return zn(d(Es.call(e)));if(Kf(e))return zn(Bf.call(e));if(Qf(e))return zn(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===A)return"{ [object globalThis] }";if(!Jf(e)&&!ta(e)){var V=Rr(e,d),se=Ko?Ko(e)===Object.prototype:e instanceof Object||e.constructor===Object,O=e instanceof Object?"":"null prototype",B=!se&&Me&&Object(e)===e&&Me in e?Zs.call(Bt(e),8,-1):O?"Object":"",he=se||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",J=he+(B||O?"["+lt.call(Qo.call([],B||[],O||[]),": ")+"] ":"");return V.length===0?J+"{}":f?J+"{"+Is(V,f)+"}":J+"{ "+lt.call(V,", ")+" }"}return String(e)};function Ic(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function qf(t){return Ot.call(String(t),/"/g,"&quot;")}function ks(t){return Bt(t)==="[object Array]"&&(!Me||!(typeof t=="object"&&Me in t))}function Jf(t){return Bt(t)==="[object Date]"&&(!Me||!(typeof t=="object"&&Me in t))}function ta(t){return Bt(t)==="[object RegExp]"&&(!Me||!(typeof t=="object"&&Me in t))}function Gf(t){return Bt(t)==="[object Error]"&&(!Me||!(typeof t=="object"&&Me in t))}function Qf(t){return Bt(t)==="[object String]"&&(!Me||!(typeof t=="object"&&Me in t))}function Zf(t){return Bt(t)==="[object Number]"&&(!Me||!(typeof t=="object"&&Me in t))}function Kf(t){return Bt(t)==="[object Boolean]"&&(!Me||!(typeof t=="object"&&Me in t))}function Mc(t){if(_n)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Cs)return!1;try{return Cs.call(t),!0}catch{}return!1}function Yf(t){if(!t||typeof t!="object"||!Es)return!1;try{return Es.call(t),!0}catch{}return!1}var Xf=Object.prototype.hasOwnProperty||function(t){return t in this};function Rt(t,e){return Xf.call(t,e)}function Bt(t){return $f.call(t)}function ed(t){if(t.name)return t.name;var e=Hf.call(Wf.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Rc(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function td(t){if(!Jr||!t||typeof t!="object")return!1;try{Jr.call(t);try{Gr.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function nd(t){if(!Gn||!t||typeof t!="object")return!1;try{Gn.call(t,Gn);try{Qn.call(t,Qn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function rd(t){if(!Jo||!t||typeof t!="object")return!1;try{return Jo.call(t),!0}catch{}return!1}function id(t){if(!Gr||!t||typeof t!="object")return!1;try{Gr.call(t);try{Jr.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function sd(t){if(!Qn||!t||typeof t!="object")return!1;try{Qn.call(t,Qn);try{Gn.call(t,Gn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function od(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ac(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Ac(Zs.call(t,0,e.maxStringLength),e)+r}var i=Ot.call(Ot.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ad);return Ic(i,"single",e)}function ad(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Vf.call(e.toString(16))}function zn(t){return"Object("+t+")"}function es(t){return t+" { ? }"}function na(t,e,n,r){var i=r?Is(n,r):lt.call(n,", ");return t+" ("+e+") {"+i+"}"}function cd(t){for(var e=0;e<t.length;e++)if(Rc(t[e],`
`)>=0)return!1;return!0}function ud(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=lt.call(Array(t.indent+1)," ");else return null;return{base:n,prev:lt.call(Array(e+1),n)}}function Is(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+lt.call(t,","+n)+`
`+e.prev}function Rr(t,e){var n=ks(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Rt(t,i)?e(t[i],t):""}var s=typeof Xi=="function"?Xi(t):[],o;if(_n){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!Rt(t,c)||n&&String(Number(c))===c&&c<t.length||_n&&o["$"+c]instanceof Symbol||(xc.call(/[^\w$]/,c)?r.push(e(c,t)+": "+e(t[c],t)):r.push(c+": "+e(t[c],t)));if(typeof Xi=="function")for(var u=0;u<s.length;u++)kc.call(t,s[u])&&r.push("["+e(s[u])+"]: "+e(t[s[u]],t));return r}var Tc=tf,Pn=nf,ld=Uf,fd=rf,Ar=Tc("%WeakMap%",!0),Tr=Tc("%Map%",!0),dd=Pn("WeakMap.prototype.get",!0),hd=Pn("WeakMap.prototype.set",!0),pd=Pn("WeakMap.prototype.has",!0),bd=Pn("Map.prototype.get",!0),gd=Pn("Map.prototype.set",!0),yd=Pn("Map.prototype.has",!0),Ks=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},md=function(t,e){var n=Ks(t,e);return n&&n.value},vd=function(t,e,n){var r=Ks(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},_d=function(t,e){return!!Ks(t,e)},wd=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new fd("Side channel does not contain "+ld(s))},get:function(s){if(Ar&&s&&(typeof s=="object"||typeof s=="function")){if(e)return dd(e,s)}else if(Tr){if(n)return bd(n,s)}else if(r)return md(r,s)},has:function(s){if(Ar&&s&&(typeof s=="object"||typeof s=="function")){if(e)return pd(e,s)}else if(Tr){if(n)return yd(n,s)}else if(r)return _d(r,s);return!1},set:function(s,o){Ar&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ar),hd(e,s,o)):Tr?(n||(n=new Tr),gd(n,s,o)):(r||(r={key:{},next:null}),vd(r,s,o))}};return i},Sd=String.prototype.replace,Ed=/%20/g,ts={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ys={default:ts.RFC3986,formatters:{RFC1738:function(t){return Sd.call(t,Ed,"+")},RFC3986:function(t){return String(t)}},RFC1738:ts.RFC1738,RFC3986:ts.RFC3986},Cd=Ys,ns=Object.prototype.hasOwnProperty,zt=Array.isArray,it=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),xd=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(zt(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},Oc=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},kd=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(zt(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ns.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return zt(e)&&!zt(n)&&(i=Oc(e,r)),zt(e)&&zt(n)?(n.forEach(function(s,o){if(ns.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return ns.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},Id=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},Md=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Rd=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Cd.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+it[u];continue}if(u<2048){a=a+(it[192|u>>6]+it[128|u&63]);continue}if(u<55296||u>=57344){a=a+(it[224|u>>12]+it[128|u>>6&63]+it[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=it[240|u>>18]+it[128|u>>12&63]+it[128|u>>6&63]+it[128|u&63]}return a},Ad=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],l=o[u];typeof l=="object"&&l!==null&&r.indexOf(l)===-1&&(n.push({obj:o,prop:u}),r.push(l))}return xd(n),e},Td=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Od=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nd=function(e,n){return[].concat(e,n)},Ld=function(e,n){if(zt(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},Nc={arrayToObject:Oc,assign:Id,combine:Nd,compact:Ad,decode:Md,encode:Rd,isBuffer:Od,isRegExp:Td,maybeMap:Ld,merge:kd},Lc=wd,Wr=Nc,Zn=Ys,Pd=Object.prototype.hasOwnProperty,Pc={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},ut=Array.isArray,Dd=Array.prototype.push,Dc=function(t,e){Dd.apply(t,ut(e)?e:[e])},jd=Date.prototype.toISOString,ra=Zn.default,ye={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Wr.encode,encodeValuesOnly:!1,format:ra,formatter:Zn.formatters[ra],indices:!1,serializeDate:function(e){return jd.call(e)},skipNulls:!1,strictNullHandling:!1},Fd=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},rs={},Bd=function t(e,n,r,i,s,o,a,c,u,l,f,d,h,_,x,w,C,S){for(var v=e,M=S,k=0,N=!1;(M=M.get(rs))!==void 0&&!N;){var V=M.get(e);if(k+=1,typeof V<"u"){if(V===k)throw new RangeError("Cyclic object value");N=!0}typeof M.get(rs)>"u"&&(k=0)}if(typeof l=="function"?v=l(n,v):v instanceof Date?v=h(v):r==="comma"&&ut(v)&&(v=Wr.maybeMap(v,function(p){return p instanceof Date?h(p):p})),v===null){if(o)return u&&!w?u(n,ye.encoder,C,"key",_):n;v=""}if(Fd(v)||Wr.isBuffer(v)){if(u){var se=w?n:u(n,ye.encoder,C,"key",_);return[x(se)+"="+x(u(v,ye.encoder,C,"value",_))]}return[x(n)+"="+x(String(v))]}var O=[];if(typeof v>"u")return O;var B;if(r==="comma"&&ut(v))w&&u&&(v=Wr.maybeMap(v,u)),B=[{value:v.length>0?v.join(",")||null:void 0}];else if(ut(l))B=l;else{var he=Object.keys(v);B=f?he.sort(f):he}var J=c?n.replace(/\./g,"%2E"):n,ue=i&&ut(v)&&v.length===1?J+"[]":J;if(s&&ut(v)&&v.length===0)return ue+"[]";for(var Ce=0;Ce<B.length;++Ce){var Re=B[Ce],j=typeof Re=="object"&&typeof Re.value<"u"?Re.value:v[Re];if(!(a&&j===null)){var nt=d&&c?Re.replace(/\./g,"%2E"):Re,Et=ut(v)?typeof r=="function"?r(ue,nt):ue:ue+(d?"."+nt:"["+nt+"]");S.set(e,k);var Ze=Lc();Ze.set(rs,S),Dc(O,t(j,Et,r,i,s,o,a,c,r==="comma"&&w&&ut(v)?null:u,l,f,d,h,_,x,w,C,Ze))}}return O},$d=function(e){if(!e)return ye;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||ye.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Zn.default;if(typeof e.format<"u"){if(!Pd.call(Zn.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Zn.formatters[r],s=ye.filter;(typeof e.filter=="function"||ut(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in Pc?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=ye.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ye.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ye.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ye.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ye.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ye.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ye.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ye.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ye.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ye.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ye.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ye.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ye.strictNullHandling}},Wd=function(t,e){var n=t,r=$d(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ut(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=Pc[r.arrayFormat],c=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var u=Lc(),l=0;l<i.length;++l){var f=i[l];r.skipNulls&&n[f]===null||Dc(o,Bd(n[f],f,a,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}var d=o.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""},wn=Nc,Ms=Object.prototype.hasOwnProperty,Hd=Array.isArray,fe={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:wn.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Vd=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},jc=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},zd="utf8=%26%2310003%3B",Ud="utf8=%E2%9C%93",qd=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,c,u=n.charset;if(n.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Ud?u="utf-8":o[c]===zd&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var l=o[c],f=l.indexOf("]="),d=f===-1?l.indexOf("="):f+1,h,_;d===-1?(h=n.decoder(l,fe.decoder,u,"key"),_=n.strictNullHandling?null:""):(h=n.decoder(l.slice(0,d),fe.decoder,u,"key"),_=wn.maybeMap(jc(l.slice(d+1),n),function(w){return n.decoder(w,fe.decoder,u,"value")})),_&&n.interpretNumericEntities&&u==="iso-8859-1"&&(_=Vd(_)),l.indexOf("[]=")>-1&&(_=Hd(_)?[_]:_);var x=Ms.call(r,h);x&&n.duplicates==="combine"?r[h]=wn.combine(r[h],_):(!x||n.duplicates==="last")&&(r[h]=_)}return r},Jd=function(t,e,n,r){for(var i=r?e:jc(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,l=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Gd=function(e,n,r,i){if(!!e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=r.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,l=[];if(u){if(!r.plainObjects&&Ms.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var f=0;r.depth>0&&(c=a.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&Ms.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+s.slice(c.index)+"]"),Jd(l,n,r,i)}},Qd=function(e){if(!e)return fe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?fe.charset:e.charset,r=typeof e.duplicates>"u"?fe.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:fe.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:fe.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:fe.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:fe.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:fe.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:fe.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:fe.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:fe.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:fe.decoder,delimiter:typeof e.delimiter=="string"||wn.isRegExp(e.delimiter)?e.delimiter:fe.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:fe.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:fe.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:fe.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:fe.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:fe.strictNullHandling}},Zd=function(t,e){var n=Qd(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?qd(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],c=Gd(a,r[a],n,typeof t=="string");i=wn.merge(i,c,n)}return n.allowSparse===!0?i:wn.compact(i)},Kd=Wd,Yd=Zd,Xd=Ys,eh={formats:Xd,parse:Yd,stringify:Kd},ur={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return r=>r}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function n(r){return Math.floor(r)}t.IntNumber=n,t.RegExpString=e(),function(r){r.CoinbaseWallet="CoinbaseWallet",r.MetaMask="MetaMask",r.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(ur);var th=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R,"__esModule",{value:!0});R.isInIFrame=R.createQrUrl=R.getFavicon=R.range=R.isBigNumber=R.ensureParsedJSONObject=R.ensureBN=R.ensureRegExpString=R.ensureIntNumber=R.ensureBuffer=R.ensureAddressString=R.ensureEvenLengthHexString=R.ensureHexString=R.isHexString=R.prepend0x=R.strip0x=R.has0xPrefix=R.hexStringFromIntNumber=R.intNumberFromHexString=R.bigIntStringFromBN=R.hexStringFromBuffer=R.hexStringToUint8Array=R.uint8ArrayToHex=R.randomBytesHex=void 0;const At=th(ni.exports),nh=eh,rn=cr,Je=ur,Fc=/^[0-9]*$/,Bc=/^[a-f0-9]*$/;function rh(t){return $c(crypto.getRandomValues(new Uint8Array(t)))}R.randomBytesHex=rh;function $c(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}R.uint8ArrayToHex=$c;function ih(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}R.hexStringToUint8Array=ih;function sh(t,e=!1){const n=t.toString("hex");return(0,Je.HexString)(e?"0x"+n:n)}R.hexStringFromBuffer=sh;function oh(t){return(0,Je.BigIntString)(t.toString(10))}R.bigIntStringFromBN=oh;function ah(t){return(0,Je.IntNumber)(new At.default(fr(t,!1),16).toNumber())}R.intNumberFromHexString=ah;function ch(t){return(0,Je.HexString)("0x"+new At.default(t).toString(16))}R.hexStringFromIntNumber=ch;function Xs(t){return t.startsWith("0x")||t.startsWith("0X")}R.has0xPrefix=Xs;function ci(t){return Xs(t)?t.slice(2):t}R.strip0x=ci;function Wc(t){return Xs(t)?"0x"+t.slice(2):"0x"+t}R.prepend0x=Wc;function lr(t){if(typeof t!="string")return!1;const e=ci(t).toLowerCase();return Bc.test(e)}R.isHexString=lr;function Hc(t,e=!1){if(typeof t=="string"){const n=ci(t).toLowerCase();if(Bc.test(n))return(0,Je.HexString)(e?"0x"+n:n)}throw rn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}R.ensureHexString=Hc;function fr(t,e=!1){let n=Hc(t,!1);return n.length%2===1&&(n=(0,Je.HexString)("0"+n)),e?(0,Je.HexString)("0x"+n):n}R.ensureEvenLengthHexString=fr;function uh(t){if(typeof t=="string"){const e=ci(t).toLowerCase();if(lr(e)&&e.length===40)return(0,Je.AddressString)(Wc(e))}throw rn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}R.ensureAddressString=uh;function lh(t){if(q.Buffer.isBuffer(t))return t;if(typeof t=="string")if(lr(t)){const e=fr(t,!1);return q.Buffer.from(e,"hex")}else return q.Buffer.from(t,"utf8");throw rn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}R.ensureBuffer=lh;function Vc(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Je.IntNumber)(t);if(typeof t=="string"){if(Fc.test(t))return(0,Je.IntNumber)(Number(t));if(lr(t))return(0,Je.IntNumber)(new At.default(fr(t,!1),16).toNumber())}throw rn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}R.ensureIntNumber=Vc;function fh(t){if(t instanceof RegExp)return(0,Je.RegExpString)(t.toString());throw rn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}R.ensureRegExpString=fh;function dh(t){if(t!==null&&(At.default.isBN(t)||zc(t)))return new At.default(t.toString(10),10);if(typeof t=="number")return new At.default(Vc(t));if(typeof t=="string"){if(Fc.test(t))return new At.default(t,10);if(lr(t))return new At.default(fr(t,!1),16)}throw rn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}R.ensureBN=dh;function hh(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw rn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}R.ensureParsedJSONObject=hh;function zc(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}R.isBigNumber=zc;function ph(t,e){return Array.from({length:e-t},(n,r)=>t+r)}R.range=ph;function bh(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,r=t?t.getAttribute("href"):null;return!r||r.startsWith("javascript:")?null:r.startsWith("http://")||r.startsWith("https://")||r.startsWith("data:")?r:r.startsWith("//")?e+r:`${e}//${n}${r}`}R.getFavicon=bh;function gh(t,e,n,r,i,s){const o=r?"parent-id":"id",a=(0,nh.stringify)({[o]:t,secret:e,server:n,v:i,chainId:s});return`${n}/#/link?${a}`}R.createQrUrl=gh;function yh(){try{return window.frameElement!==null}catch{return!1}}R.isInIFrame=yh;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Session=void 0;const ia=sf.exports,sa=R,oa="session:id",aa="session:secret",ca="session:linked";class eo{constructor(e,n,r,i){this._storage=e,this._id=n||(0,sa.randomBytesHex)(16),this._secret=r||(0,sa.randomBytesHex)(32),this._key=new ia.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const n=e.getItem(oa),r=e.getItem(ca),i=e.getItem(aa);return n&&i?new eo(e,n,i,r==="1"):null}static hash(e){return new ia.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(oa,this._id),this._storage.setItem(aa,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ca,this._linked?"1":"0")}}Ln.Session=eo;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKRelayAbstract=tt.APP_VERSION_KEY=tt.LOCAL_STORAGE_ADDRESSES_KEY=tt.WALLET_USER_NAME_KEY=void 0;const ua=cr;tt.WALLET_USER_NAME_KEY="walletUsername";tt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";tt.APP_VERSION_KEY="AppVersion";class mh{async makeEthereumJSONRPCRequest(e,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{if(!r)throw ua.standardErrors.rpc.parse({});const i=r,{error:s}=i;if(s)throw(0,ua.serializeError)(s,e.method);return i})}}tt.WalletSDKRelayAbstract=mh;const vh=af,_h=ni.exports;function Uc(t){return q.Buffer.allocUnsafe(t).fill(0)}function qc(t,e,n){const r=Uc(e);return t=ui(t),n?t.length<e?(t.copy(r),r):t.slice(0,e):t.length<e?(t.copy(r,e-t.length),r):t.slice(-e)}function wh(t,e){return qc(t,e,!0)}function ui(t){if(!q.Buffer.isBuffer(t))if(Array.isArray(t))t=q.Buffer.from(t);else if(typeof t=="string")Jc(t)?t=q.Buffer.from(Ch(Gc(t)),"hex"):t=q.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=q.Buffer.allocUnsafe(0);else if(_h.isBN(t))t=t.toArrayLike(q.Buffer);else if(t.toArray)t=q.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Sh(t){return t=ui(t),"0x"+t.toString("hex")}function Eh(t,e){return t=ui(t),e||(e=256),vh("keccak"+e).update(t).digest()}function Ch(t){return t.length%2?"0"+t:t}function Jc(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Gc(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Qc={zeros:Uc,setLength:qc,setLengthRight:wh,isHexString:Jc,stripHexPrefix:Gc,toBuffer:ui,bufferToHex:Sh,keccak:Eh};const Kt=Qc,Qt=ni.exports;function Zc(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function gn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function la(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Kc(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ut(t){var e=typeof t;if(e==="string")return Kt.isHexString(t)?new Qt(Kt.stripHexPrefix(t),16):new Qt(t,10);if(e==="number")return new Qt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function at(t,e){var n,r,i,s;if(t==="address")return at("uint160",Ut(e));if(t==="bool")return at("uint8",e?1:0);if(t==="string")return at("bytes",new q.Buffer(e,"utf8"));if(kh(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=Kc(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(at(t,e[s]));if(n==="dynamic"){var o=at("uint256",e.length);i.unshift(o)}return q.Buffer.concat(i)}else{if(t==="bytes")return e=new q.Buffer(e),i=q.Buffer.concat([at("uint256",e.length),e]),e.length%32!==0&&(i=q.Buffer.concat([i,Kt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=gn(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return Kt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=gn(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=Ut(e),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());if(r<0)throw new Error("Supplied uint is negative");return r.toArrayLike(q.Buffer,"be",32)}else if(t.startsWith("int")){if(n=gn(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=Ut(e),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());return r.toTwos(256).toArrayLike(q.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(n=la(t),r=Ut(e),r<0)throw new Error("Supplied ufixed is negative");return at("uint256",r.mul(new Qt(2).pow(new Qt(n[1]))))}else if(t.startsWith("fixed"))return n=la(t),at("int256",Ut(e).mul(new Qt(2).pow(new Qt(n[1]))))}throw new Error("Unsupported or invalid type: "+t)}function xh(t){return t==="string"||t==="bytes"||Kc(t)==="dynamic"}function kh(t){return t.lastIndexOf("]")===t.length-1}function Ih(t,e){var n=[],r=[],i=32*t.length;for(var s in t){var o=Zc(t[s]),a=e[s],c=at(o,a);xh(o)?(n.push(at("uint256",i)),r.push(c),i+=c.length):n.push(c)}return q.Buffer.concat(n.concat(r))}function Yc(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,r,i=[],s=0;s<t.length;s++){var o=Zc(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new q.Buffer(a,"utf8"));else if(o==="bool")i.push(new q.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Kt.setLength(a,20));else if(o.startsWith("bytes")){if(n=gn(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(Kt.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=gn(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(r=Ut(a),r.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+r.bitLength());i.push(r.toArrayLike(q.Buffer,"be",n/8))}else if(o.startsWith("int")){if(n=gn(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(r=Ut(a),r.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+r.bitLength());i.push(r.toTwos(n).toArrayLike(q.Buffer,"be",n/8))}else throw new Error("Unsupported or invalid type: "+o)}return q.Buffer.concat(i)}function Mh(t,e){return Kt.keccak(Yc(t,e))}var Rh={rawEncode:Ih,solidityPack:Yc,soliditySHA3:Mh};const Xe=Qc,Kn=Rh,Xc={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},is={encodeData(t,e,n,r=!0){const i=["bytes32"],s=[this.hashType(t,n)];if(r){const o=(a,c,u)=>{if(n[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Xe.keccak(this.encodeData(c,u,n,r))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Xe.keccak(u)];if(c==="string")return typeof u=="string"&&(u=q.Buffer.from(u,"utf8")),["bytes32",Xe.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const l=c.slice(0,c.lastIndexOf("[")),f=u.map(d=>o(a,l,d));return["bytes32",Xe.keccak(Kn.rawEncode(f.map(([d])=>d),f.map(([,d])=>d)))]}return[c,u]};for(const a of n[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Xe.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=q.Buffer.from(a,"utf8")),a=Xe.keccak(a),s.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=Xe.keccak(this.encodeData(o.type,a,n,r)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Kn.rawEncode(i,s)},encodeType(t,e){let n="",r=this.findTypeDependencies(t,e).filter(i=>i!==t);r=[t].concat(r.sort());for(const i of r){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const r of e[t])for(const i of this.findTypeDependencies(r.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,r=!0){return Xe.keccak(this.encodeData(t,e,n,r))},hashType(t,e){return Xe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in Xc.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),r=[q.Buffer.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&r.push(this.hashStruct(n.primaryType,n.message,n.types,e)),Xe.keccak(q.Buffer.concat(r))}};var Ah={TYPED_MESSAGE_SCHEMA:Xc,TypedDataUtils:is,hashForSignTypedDataLegacy:function(t){return Th(t.data)},hashForSignTypedData_v3:function(t){return is.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return is.hash(t.data)}};function Th(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(s){return s.type==="bytes"?Xe.toBuffer(s.value):s.value}),r=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Kn.soliditySHA3(["bytes32","bytes32"],[Kn.soliditySHA3(new Array(t.length).fill("string"),i),Kn.soliditySHA3(r,n)])}var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.filterFromParam=Sn.FilterPolyfill=void 0;const dn=ur,Ae=R,Oh=5*60*1e3,qt={jsonrpc:"2.0",id:0};class Nh{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,dn.IntNumber)(1),this.provider=e}async newFilter(e){const n=eu(e),r=this.makeFilterId(),i=await this.setInitialCursorPosition(r,n.fromBlock);return console.log(`Installing new log filter(${r}):`,n,"initial cursor position:",i),this.logFilters.set(r,n),this.setFilterTimeout(r),(0,Ae.hexStringFromIntNumber)(r)}async newBlockFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Ae.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),n=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,n),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Ae.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,Ae.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${n})`),this.deleteFilter(n),!0}getFilterChanges(e){const n=(0,Ae.intNumberFromHexString)(e);return this.timeouts.has(n)&&this.setFilterTimeout(n),this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(Or())}async getFilterLogs(e){const n=(0,Ae.intNumberFromHexString)(e),r=this.logFilters.get(n);return r?this.sendAsyncPromise(Object.assign(Object.assign({},qt),{method:"eth_getLogs",params:[fa(r)]})):Or()}makeFilterId(){return(0,dn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((n,r)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return r(i);if(Array.isArray(s)||s==null)return r(new Error(`unexpected response received: ${JSON.stringify(s)}`));n(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const n=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!n)return Or();const i=await this.getCurrentBlockHeight(),s=n.toBlock==="latest"?i:n.toBlock;if(r>i||r>n.toBlock)return Nr();console.log(`Fetching logs from ${r} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},qt),{method:"eth_getLogs",params:[fa(Object.assign(Object.assign({},n),{fromBlock:r,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,Ae.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>r){const u=(0,dn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${r} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const n=this.cursors.get(e);if(!n)return Or();const r=await this.getCurrentBlockHeight();if(n>r)return Nr();console.log(`Fetching blocks from ${n} to ${r} for filter (${e})`);const i=(await Promise.all((0,Ae.range)(n,r+1).map(o=>this.getBlockHashByNumber((0,dn.IntNumber)(o))))).filter(o=>!!o),s=(0,dn.IntNumber)(n+i.length);return console.log(`Moving cursor position for filter (${e}) from ${n} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},qt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Nr())}async setInitialCursorPosition(e,n){const r=await this.getCurrentBlockHeight(),i=typeof n=="number"&&n>r?n:r;return this.cursors.set(e,i),i}setFilterTimeout(e){const n=this.timeouts.get(e);n&&window.clearTimeout(n);const r=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Oh);this.timeouts.set(e,r)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},qt),{method:"eth_blockNumber",params:[]}));return(0,Ae.intNumberFromHexString)((0,Ae.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},qt),{method:"eth_getBlockByNumber",params:[(0,Ae.hexStringFromIntNumber)(e),!1]}));return n.result&&typeof n.result.hash=="string"?(0,Ae.ensureHexString)(n.result.hash):null}}Sn.FilterPolyfill=Nh;function eu(t){return{fromBlock:da(t.fromBlock),toBlock:da(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Sn.filterFromParam=eu;function fa(t){const e={fromBlock:ha(t.fromBlock),toBlock:ha(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function da(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,dn.IntNumber)(0);if((0,Ae.isHexString)(t))return(0,Ae.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function ha(t){return t==="latest"?t:(0,Ae.hexStringFromIntNumber)(t)}function Or(){return Object.assign(Object.assign({},qt),{error:{code:-32e3,message:"filter not found"}})}function Nr(){return Object.assign(Object.assign({},qt),{result:[]})}var tu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(tu);var li={},nu={},fi={},to=Lh;function Lh(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,n=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return n=n%e,n++}}const pa=(t,e)=>function(){const n=e.promiseModule,r=new Array(arguments.length);for(let i=0;i<arguments.length;i++)r[i]=arguments[i];return new n((i,s)=>{e.errorFirst?r.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):r.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,r)})};var Ph=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let r;typeof t=="function"?r=function(){return e.excludeMain?t.apply(this,arguments):pa(t,e).apply(this,arguments)}:r=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];r[i]=typeof s=="function"&&n(i)?pa(s,e):s}return r},dr={},Dh=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dr,"__esModule",{value:!0});dr.BaseBlockTracker=void 0;const jh=Dh(nn),Fh=1e3,Bh=(t,e)=>t+e,ba=["sync","latest"];class $h extends jh.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Fh,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(n=>this.once("latest",n))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){ba.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return ba.map(e=>this.listenerCount(e)).reduce(Bh)}_newPotentialLatest(e){const n=this._currentBlock;n&&ga(e)<=ga(n)||this._setCurrentBlock(e)}_setCurrentBlock(e){const n=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:n,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}dr.BaseBlockTracker=$h;function ga(t){return Number.parseInt(t,16)}var ru={},iu={},Ee={};class su extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s!=null?s:c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[e,...n()]}}function Wh(t){return Ge(t)&&typeof t[Symbol.iterator]=="function"}function Ge(t){return typeof t=="object"&&t!=null}function ya(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function me(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Hh(t){const{done:e,value:n}=t.next();return e?void 0:n}function Vh(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${me(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Rs(t,e,n,r){Wh(t)||(t=[t]);for(const i of t){const s=Vh(i,e,n,r);s&&(yield s)}}function*no(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ge(e.schema)&&Ge(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of e.entries(t,a)){const d=no(l,f,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const h of d)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(l=h[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):Ge(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class de{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Rs(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Rs(l,u,this,c)}:this.refiner=()=>[]}assert(e,n){return ou(e,this,n)}create(e,n){return au(e,this,n)}is(e){return ro(e,this)}mask(e,n){return cu(e,this,n)}validate(e,n={}){return Dn(e,this,n)}}function ou(t,e,n){const r=Dn(t,e,{message:n});if(r[0])throw r[0]}function au(t,e,n){const r=Dn(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function cu(t,e,n){const r=Dn(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function ro(t,e){return!Dn(t,e)[0]}function Dn(t,e,n={}){const r=no(t,e,n),i=Hh(r);return i[0]?[new su(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function zh(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?pr(r):hr(r)}function Pe(t,e){return new de({type:t,schema:null,validator:e})}function Uh(t,e){return new de({...t,refiner:(n,r)=>n===void 0||t.refiner(n,r),validator(n,r){return n===void 0?!0:(e(n,r),t.validator(n,r))}})}function qh(t){return new de({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function Jh(t){let e;return new de({type:"lazy",schema:null,*entries(n,r){e!=null||(e=t()),yield*e.entries(n,r)},validator(n,r){return e!=null||(e=t()),e.validator(n,r)},coercer(n,r){return e!=null||(e=t()),e.coercer(n,r)},refiner(n,r){return e!=null||(e=t()),e.refiner(n,r)}})}function Gh(t,e){const{schema:n}=t,r={...n};for(const i of e)delete r[i];switch(t.type){case"type":return pr(r);default:return hr(r)}}function Qh(t){const e=t instanceof de,n=e?{...t.schema}:{...t};for(const r in n)n[r]=uu(n[r]);return e&&t.type==="type"?pr(n):hr(n)}function Zh(t,e){const{schema:n}=t,r={};for(const i of e)r[i]=n[i];switch(t.type){case"type":return pr(r);default:return hr(r)}}function Kh(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Pe(t,e)}function Yh(){return Pe("any",()=>!0)}function Xh(t){return new de({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${me(e)}`}})}function ep(){return Pe("bigint",t=>typeof t=="bigint")}function tp(){return Pe("boolean",t=>typeof t=="boolean")}function np(){return Pe("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${me(t)}`)}function rp(t){const e={},n=t.map(r=>me(r)).join();for(const r of t)e[r]=r;return new de({type:"enums",schema:e,validator(r){return t.includes(r)||`Expected one of \`${n}\`, but received: ${me(r)}`}})}function ip(){return Pe("func",t=>typeof t=="function"||`Expected a function, but received: ${me(t)}`)}function sp(t){return Pe("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${me(e)}`)}function op(){return Pe("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${me(t)}`)}function ap(t){return new de({type:"intersection",schema:null,*entries(e,n){for(const r of t)yield*r.entries(e,n)},*validator(e,n){for(const r of t)yield*r.validator(e,n)},*refiner(e,n){for(const r of t)yield*r.refiner(e,n)}})}function cp(t){const e=me(t),n=typeof t;return new de({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${me(r)}`}})}function up(t,e){return new de({type:"map",schema:null,*entries(n){if(t&&e&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,t],yield[r,i,e]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${me(n)}`}})}function io(){return Pe("never",()=>!1)}function lp(t){return new de({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function fp(){return Pe("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${me(t)}`)}function hr(t){const e=t?Object.keys(t):[],n=io();return new de({type:"object",schema:t||null,*entries(r){if(t&&Ge(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Ge(r)||`Expected an object, but received: ${me(r)}`},coercer(r){return Ge(r)?{...r}:r}})}function uu(t){return new de({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function dp(t,e){return new de({type:"record",schema:null,*entries(n){if(Ge(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Ge(n)||`Expected an object, but received: ${me(n)}`}})}function hp(){return Pe("regexp",t=>t instanceof RegExp)}function pp(t){return new de({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const n of e)yield[n,n,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${me(e)}`}})}function lu(){return Pe("string",t=>typeof t=="string"||`Expected a string, but received: ${me(t)}`)}function bp(t){const e=io();return new de({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${me(n)}`}})}function pr(t){const e=Object.keys(t);return new de({type:"type",schema:t,*entries(n){if(Ge(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Ge(n)||`Expected an object, but received: ${me(n)}`},coercer(n){return Ge(n)?{...n}:n}})}function gp(t){const e=t.map(n=>n.type).join(" | ");return new de({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=no(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${me(n)}`,...i]}})}function fu(){return Pe("unknown",()=>!0)}function so(t,e,n){return new de({...t,coercer:(r,i)=>ro(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}function yp(t,e,n={}){return so(t,fu(),r=>{const i=typeof e=="function"?e():e;if(r===void 0)return i;if(!n.strict&&ya(r)&&ya(i)){const s={...r};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return r})}function mp(t){return so(t,lu(),e=>e.trim())}function vp(t){return sn(t,"empty",e=>{const n=du(e);return n===0||`Expected an empty ${t.type} but received one with a size of \`${n}\``})}function du(t){return t instanceof Map||t instanceof Set?t.size:t.length}function _p(t,e,n={}){const{exclusive:r}=n;return sn(t,"max",i=>r?i<e:i<=e||`Expected a ${t.type} less than ${r?"":"or equal to "}${e} but received \`${i}\``)}function wp(t,e,n={}){const{exclusive:r}=n;return sn(t,"min",i=>r?i>e:i>=e||`Expected a ${t.type} greater than ${r?"":"or equal to "}${e} but received \`${i}\``)}function Sp(t){return sn(t,"nonempty",e=>du(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Ep(t,e){return sn(t,"pattern",n=>e.test(n)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${n}"`)}function Cp(t,e,n=e){const r=`Expected a ${t.type}`,i=e===n?`of \`${e}\``:`between \`${e}\` and \`${n}\``;return sn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=n||`${r} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=n||`${r} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=n||`${r} with a length ${i} but received one with a length of \`${o}\``}})}function sn(t,e,n){return new de({...t,*refiner(r,i){yield*t.refiner(r,i);const s=n(r,i),o=Rs(s,i,t,r);for(const a of o)yield{...a,refinement:e}}})}const xp=Object.freeze(Object.defineProperty({__proto__:null,Struct:de,StructError:su,any:Yh,array:Xh,assert:ou,assign:zh,bigint:ep,boolean:tp,coerce:so,create:au,date:np,defaulted:yp,define:Pe,deprecated:Uh,dynamic:qh,empty:vp,enums:rp,func:ip,instance:sp,integer:op,intersection:ap,is:ro,lazy:Jh,literal:cp,map:up,mask:cu,max:_p,min:wp,never:io,nonempty:Sp,nullable:lp,number:fp,object:hr,omit:Gh,optional:uu,partial:Qh,pattern:Ep,pick:Zh,record:dp,refine:sn,regexp:hp,set:pp,size:Cp,string:lu,struct:Kh,trimmed:mp,tuple:bp,type:pr,union:gp,unknown:fu,validate:Dn},Symbol.toStringTag,{value:"Module"})),on=tn(xp);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.assertExhaustive=Ee.assertStruct=Ee.assert=Ee.AssertionError=void 0;const kp=on;function Ip(t){return typeof t=="object"&&t!==null&&"message"in t}function Mp(t){var e,n;return Boolean(typeof((n=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||n===void 0?void 0:n.name)=="string")}function Rp(t){const e=Ip(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function hu(t,e){return Mp(t)?new t({message:e}):t({message:e})}class oo extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Ee.AssertionError=oo;function Ap(t,e="Assertion failed.",n=oo){if(!t)throw e instanceof Error?e:hu(n,e)}Ee.assert=Ap;function Tp(t,e,n="Assertion failed",r=oo){try{(0,kp.assert)(t,e)}catch(i){throw hu(r,`${n}: ${Rp(i)}.`)}}Ee.assertStruct=Tp;function Op(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Ee.assertExhaustive=Op;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.base64=void 0;const Np=on,Lp=Ee,Pp=(t,e={})=>{var n,r;const i=(n=e.paddingRequired)!==null&&n!==void 0?n:!1,s=(r=e.characterSet)!==null&&r!==void 0?r:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Lp.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Np.pattern)(t,a)};br.base64=Pp;var U={},gr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=on,n=Ee;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function r(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=r;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,n.assert)(r(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,n.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(gr);Object.defineProperty(U,"__esModule",{value:!0});U.createDataView=U.concatBytes=U.valueToBytes=U.stringToBytes=U.numberToBytes=U.signedBigIntToBytes=U.bigIntToBytes=U.hexToBytes=U.bytesToString=U.bytesToNumber=U.bytesToSignedBigInt=U.bytesToBigInt=U.bytesToHex=U.assertIsBytes=U.isBytes=void 0;const je=Ee,As=gr,ma=48,va=58,_a=87;function Dp(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const jp=Dp();function ao(t){return t instanceof Uint8Array}U.isBytes=ao;function jn(t){(0,je.assert)(ao(t),"Value must be a Uint8Array.")}U.assertIsBytes=jn;function pu(t){if(jn(t),t.length===0)return"0x";const e=jp(),n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e[t[r]];return(0,As.add0x)(n.join(""))}U.bytesToHex=pu;function bu(t){jn(t);const e=pu(t);return BigInt(e)}U.bytesToBigInt=bu;function Fp(t){jn(t);let e=BigInt(0);for(const n of t)e=(e<<BigInt(8))+BigInt(n);return BigInt.asIntN(t.length*8,e)}U.bytesToSignedBigInt=Fp;function Bp(t){jn(t);const e=bu(t);return(0,je.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}U.bytesToNumber=Bp;function $p(t){return jn(t),new TextDecoder().decode(t)}U.bytesToString=$p;function di(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,As.assertIsHexString)(t);const n=(0,As.remove0x)(t).toLowerCase(),r=n.length%2===0?n:`0${n}`,i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const o=r.charCodeAt(s*2),a=r.charCodeAt(s*2+1),c=o-(o<va?ma:_a),u=a-(a<va?ma:_a);i[s]=c*16+u}return i}U.hexToBytes=di;function gu(t){(0,je.assert)(typeof t=="bigint","Value must be a bigint."),(0,je.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return di(e)}U.bigIntToBytes=gu;function Wp(t,e){(0,je.assert)(e>0);const n=t>>BigInt(31);return!((~t&n)+(t&~n)>>BigInt(e*8+-1))}function Hp(t,e){(0,je.assert)(typeof t=="bigint","Value must be a bigint."),(0,je.assert)(typeof e=="number","Byte length must be a number."),(0,je.assert)(e>0,"Byte length must be greater than 0."),(0,je.assert)(Wp(t,e),"Byte length is too small to represent the given value.");let n=t;const r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}U.signedBigIntToBytes=Hp;function yu(t){(0,je.assert)(typeof t=="number","Value must be a number."),(0,je.assert)(t>=0,"Value must be a non-negative number."),(0,je.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return di(e)}U.numberToBytes=yu;function mu(t){return(0,je.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}U.stringToBytes=mu;function vu(t){if(typeof t=="bigint")return gu(t);if(typeof t=="number")return yu(t);if(typeof t=="string")return t.startsWith("0x")?di(t):mu(t);if(ao(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}U.valueToBytes=vu;function Vp(t){const e=new Array(t.length);let n=0;for(let i=0;i<t.length;i++){const s=vu(t[i]);e[i]=s,n+=s.length}const r=new Uint8Array(n);for(let i=0,s=0;i<e.length;i++)r.set(e[i],s),s+=e[i].length;return r}U.concatBytes=Vp;function zp(t){if(typeof q.Buffer<"u"&&t instanceof q.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}U.createDataView=zp;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.ChecksumStruct=void 0;const wa=on,Up=br;hi.ChecksumStruct=(0,wa.size)((0,Up.base64)((0,wa.string)(),{paddingRequired:!0}),44,44);var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.createHex=dt.createBytes=dt.createBigInt=dt.createNumber=void 0;const re=on,qp=Ee,_u=U,pi=gr,wu=(0,re.union)([(0,re.number)(),(0,re.bigint)(),(0,re.string)(),pi.StrictHexStruct]),Jp=(0,re.coerce)((0,re.number)(),wu,Number),Gp=(0,re.coerce)((0,re.bigint)(),wu,BigInt);(0,re.union)([pi.StrictHexStruct,(0,re.instance)(Uint8Array)]);const Qp=(0,re.coerce)((0,re.instance)(Uint8Array),(0,re.union)([pi.StrictHexStruct]),_u.hexToBytes),Zp=(0,re.coerce)(pi.StrictHexStruct,(0,re.instance)(Uint8Array),_u.bytesToHex);function Kp(t){try{const e=(0,re.create)(t,Jp);return(0,qp.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof re.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}dt.createNumber=Kp;function Yp(t){try{return(0,re.create)(t,Gp)}catch(e){throw e instanceof re.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}dt.createBigInt=Yp;function Xp(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,re.create)(t,Qp)}catch(e){throw e instanceof re.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}dt.createBytes=Xp;function e0(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,re.create)(t,Zp)}catch(e){throw e instanceof re.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}dt.createHex=e0;var En={},Su=A&&A.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Te=A&&A.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ke,st;Object.defineProperty(En,"__esModule",{value:!0});En.FrozenSet=En.FrozenMap=void 0;class co{constructor(e){Ke.set(this,void 0),Su(this,Ke,new Map(e),"f"),Object.freeze(this)}get size(){return Te(this,Ke,"f").size}[(Ke=new WeakMap,Symbol.iterator)](){return Te(this,Ke,"f")[Symbol.iterator]()}entries(){return Te(this,Ke,"f").entries()}forEach(e,n){return Te(this,Ke,"f").forEach((r,i,s)=>e.call(n,r,i,this))}get(e){return Te(this,Ke,"f").get(e)}has(e){return Te(this,Ke,"f").has(e)}keys(){return Te(this,Ke,"f").keys()}values(){return Te(this,Ke,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,n])=>`${String(e)} => ${String(n)}`).join(", ")} `:""}}`}}En.FrozenMap=co;class uo{constructor(e){st.set(this,void 0),Su(this,st,new Set(e),"f"),Object.freeze(this)}get size(){return Te(this,st,"f").size}[(st=new WeakMap,Symbol.iterator)](){return Te(this,st,"f")[Symbol.iterator]()}entries(){return Te(this,st,"f").entries()}forEach(e,n){return Te(this,st,"f").forEach((r,i,s)=>e.call(n,r,i,this))}has(e){return Te(this,st,"f").has(e)}keys(){return Te(this,st,"f").keys()}values(){return Te(this,st,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}En.FrozenSet=uo;Object.freeze(co);Object.freeze(co.prototype);Object.freeze(uo);Object.freeze(uo.prototype);var Eu={},lo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function n(u){return u==null}t.isNullOrUndefined=n;function r(u){return Boolean(u)&&typeof u=="object"&&!Array.isArray(u)}t.isObject=r;const i=(u,l)=>Object.hasOwnProperty.call(u,l);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let l=u;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(u)===l}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var l;return u.split("").reduce((d,h)=>o(h)?d+1:d+2,0)+((l=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(lo);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=on,n=Ee,r=lo;t.JsonStruct=(0,e.define)("Json",k=>{const[N]=M(k,!0);return N?!0:"Expected a valid JSON-serializable value"});function i(k){return(0,e.is)(k,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(k){return(0,e.is)(k,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(k,N){(0,n.assertStruct)(k,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",N)}t.assertIsJsonRpcNotification=o;function a(k){return(0,e.is)(k,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(k,N){(0,n.assertStruct)(k,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",N)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(k){return(0,e.is)(k,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function l(k,N){(0,n.assertStruct)(k,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",N)}t.assertIsPendingJsonRpcResponse=l;function f(k){return(0,e.is)(k,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=f;function d(k,N){(0,n.assertStruct)(k,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",N)}t.assertIsJsonRpcResponse=d;function h(k){return(0,e.is)(k,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=h;function _(k,N){(0,n.assertStruct)(k,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",N)}t.assertIsJsonRpcSuccess=_;function x(k){return(0,e.is)(k,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=x;function w(k,N){(0,n.assertStruct)(k,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",N)}t.assertIsJsonRpcFailure=w;function C(k){return(0,e.is)(k,t.JsonRpcErrorStruct)}t.isJsonRpcError=C;function S(k,N){(0,n.assertStruct)(k,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",N)}t.assertIsJsonRpcError=S;function v(k){const{permitEmptyString:N,permitFractions:V,permitNull:se}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},k);return B=>Boolean(typeof B=="number"&&(V||Number.isInteger(B))||typeof B=="string"&&(N||B.length>0)||se&&B===null)}t.getJsonRpcIdValidator=v;function M(k,N=!1){const V=new Set;function se(O,B){if(O===void 0)return[!1,0];if(O===null)return[!0,B?0:r.JsonSize.Null];const he=typeof O;try{if(he==="function")return[!1,0];if(he==="string"||O instanceof String)return[!0,B?0:(0,r.calculateStringSize)(O)+r.JsonSize.Quote*2];if(he==="boolean"||O instanceof Boolean)return B?[!0,0]:[!0,O==!0?r.JsonSize.True:r.JsonSize.False];if(he==="number"||O instanceof Number)return B?[!0,0]:[!0,(0,r.calculateNumberSize)(O)];if(O instanceof Date)return B?[!0,0]:[!0,isNaN(O.getDate())?r.JsonSize.Null:r.JsonSize.Date+r.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,r.isPlainObject)(O)&&!Array.isArray(O))return[!1,0];if(V.has(O))return[!1,0];V.add(O);try{return[!0,Object.entries(O).reduce((J,[ue,Ce],Re,j)=>{let[nt,Et]=se(Ce,B);if(!nt)throw new Error("JSON validation did not pass. Validation process stopped.");if(V.delete(O),B)return 0;const Ze=Array.isArray(O)?0:ue.length+r.JsonSize.Comma+r.JsonSize.Colon*2,p=Re<j.length-1?r.JsonSize.Comma:0;return J+Ze+Et+p},B?0:r.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return se(k,N)}t.validateJsonAndGetSize=M})(Eu);var Cn={},Ts={exports:{}},ss,Sa;function t0(){if(Sa)return ss;Sa=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;ss=function(l,f){f=f||{};var d=typeof l;if(d==="string"&&l.length>0)return o(l);if(d==="number"&&isFinite(l))return f.long?c(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(!!f){var d=parseFloat(f[1]),h=(f[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*r;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=n?Math.round(l/n)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function c(l){var f=Math.abs(l);return f>=r?u(l,f,r,"day"):f>=n?u(l,f,n,"hour"):f>=e?u(l,f,e,"minute"):f>=t?u(l,f,t,"second"):l+" ms"}function u(l,f,d,h){var _=f>=d*1.5;return Math.round(l/d)+" "+h+(_?"s":"")}return ss}function n0(t){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=o,n.humanize=t0(),n.destroy=u,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let f=0;for(let d=0;d<l.length;d++)f=(f<<5)-f+l.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(l){let f,d=null,h,_;function x(...w){if(!x.enabled)return;const C=x,S=Number(new Date),v=S-(f||S);C.diff=v,C.prev=f,C.curr=S,f=S,w[0]=n.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let M=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(N,V)=>{if(N==="%%")return"%";M++;const se=n.formatters[V];if(typeof se=="function"){const O=w[M];N=se.call(C,O),w.splice(M,1),M--}return N}),n.formatArgs.call(C,w),(C.log||n.log).apply(C,w)}return x.namespace=l,x.useColors=n.useColors(),x.color=n.selectColor(l),x.extend=r,x.destroy=n.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(h!==n.namespaces&&(h=n.namespaces,_=n.enabled(l)),_),set:w=>{d=w}}),typeof n.init=="function"&&n.init(x),x}function r(l,f){const d=n(this.namespace+(typeof f>"u"?":":f)+l);return d.log=this.log,d}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let f;const d=(typeof l=="string"?l:"").split(/[\s,]+/),h=d.length;for(f=0;f<h;f++)!d[f]||(l=d[f].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function s(){const l=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(l))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var r0=n0;(function(t,e){e.formatArgs=r,e.save=i,e.load=s,e.useColors=n,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let l=0,f=0;c[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(l++,d==="%c"&&(f=l))}),c.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof Vo.exports<"u"&&"env"in Vo.exports&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=r0(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(Ts,Ts.exports);var i0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.createModuleLogger=Cn.createProjectLogger=void 0;const s0=i0(Ts.exports),o0=(0,s0.default)("metamask");function a0(t){return o0.extend(t)}Cn.createProjectLogger=a0;function c0(t,e){return t.extend(e)}Cn.createModuleLogger=c0;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.hexToBigInt=ht.hexToNumber=ht.bigIntToHex=ht.numberToHex=void 0;const yn=Ee,rr=gr,u0=t=>((0,yn.assert)(typeof t=="number","Value must be a number."),(0,yn.assert)(t>=0,"Value must be a non-negative number."),(0,yn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,rr.add0x)(t.toString(16)));ht.numberToHex=u0;const l0=t=>((0,yn.assert)(typeof t=="bigint","Value must be a bigint."),(0,yn.assert)(t>=0,"Value must be a non-negative bigint."),(0,rr.add0x)(t.toString(16)));ht.bigIntToHex=l0;const f0=t=>{(0,rr.assertIsHexString)(t);const e=parseInt(t,16);return(0,yn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};ht.hexToNumber=f0;const d0=t=>((0,rr.assertIsHexString)(t),BigInt((0,rr.add0x)(t)));ht.hexToBigInt=d0;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});var xu={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,n=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function r(s,o){return n(s,"count"),s*o}t.inMilliseconds=r;function i(s){return n(s,"timestamp"),Date.now()-s}t.timeSince=i})(xu);var ku={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=uf,n=on,r=Ee;t.VersionStruct=(0,n.refine)((0,n.string)(),"Version",f=>(0,e.valid)(f)===null?`Expected SemVer version, got "${f}"`:!0),t.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",f=>(0,e.validRange)(f)===null?`Expected SemVer range, got "${f}"`:!0);function i(f){return(0,n.is)(f,t.VersionStruct)}t.isValidSemVerVersion=i;function s(f){return(0,n.is)(f,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(f){(0,r.assertStruct)(f,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(f){(0,r.assertStruct)(f,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(f,d){return(0,e.gt)(f,d)}t.gtVersion=c;function u(f,d){return(0,e.gtr)(f,d)}t.gtRange=u;function l(f,d){return(0,e.satisfies)(f,d,{includePrerelease:!0})}t.satisfiesVersionRange=l})(ku);(function(t){var e=A&&A.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=A&&A.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ee,t),n(br,t),n(U,t),n(hi,t),n(dt,t),n(En,t),n(gr,t),n(Eu,t),n(Cn,t),n(lo,t),n(ht,t),n(Cu,t),n(xu,t),n(ku,t)})(iu);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=iu;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(ru);var Iu=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});fi.PollingBlockTracker=void 0;const h0=Iu(to),p0=Iu(Ph),b0=dr,Ea=ru,Ca=(0,Ea.createModuleLogger)(Ea.projectLogger,"polling-block-tracker"),g0=(0,h0.default)(),y0=1e3;class m0 extends b0.BaseBlockTracker{constructor(e={}){var n;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(n=e.blockResetDuration)!==null&&n!==void 0?n:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*y0,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const n=xa(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await n}catch(n){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=n.stack)!==null&&e!==void 0?e:n}`);try{this.emit("error",r)}catch{console.error(r)}const i=xa(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:g0(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Ca("Making request",e);const n=await(0,p0.default)(r=>this._provider.sendAsync(e,r))();if(Ca("Got response",n),n.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${n.error.message}`);return n.result}}fi.PollingBlockTracker=m0;function xa(t,e){return new Promise(n=>{const r=setTimeout(n,t);r.unref&&e&&r.unref()})}var bi={},v0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.SubscribeBlockTracker=void 0;const _0=v0(to),w0=dr,S0=(0,_0.default)();class E0 extends w0.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...n){return new Promise((r,i)=>{this._provider.sendAsync({id:S0(),method:e,params:n,jsonrpc:"2.0"},(s,o)=>{s?i(s):r(o.result)})})}_handleSubData(e,n){var r;n.method==="eth_subscription"&&((r=n.params)===null||r===void 0?void 0:r.subscription)===this._subscriptionId&&this._newPotentialLatest(n.params.result.number)}}bi.SubscribeBlockTracker=E0;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});(function(t){var e=A&&A.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=A&&A.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(fi,t),n(bi,t),n(Mu,t)})(nu);var fo={},gi={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.getUniqueId=void 0;const Ru=4294967295;let os=Math.floor(Math.random()*Ru);function C0(){return os=(os+1)%Ru,os}yr.getUniqueId=C0;Object.defineProperty(gi,"__esModule",{value:!0});gi.createIdRemapMiddleware=void 0;const x0=yr;function k0(){return(t,e,n,r)=>{const i=t.id,s=x0.getUniqueId();t.id=s,e.id=s,n(o=>{t.id=i,e.id=i,o()})}}gi.createIdRemapMiddleware=k0;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.createAsyncMiddleware=void 0;function I0(t){return async(e,n,r,i)=>{let s;const o=new Promise(l=>{s=l});let a=null,c=!1;const u=async()=>{c=!0,r(l=>{a=l,s()}),await o};try{await t(e,n,u),c?(await o,a(null)):i(null)}catch(l){a?a(l):i(l)}}}yi.createAsyncMiddleware=I0;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.createScaffoldMiddleware=void 0;function M0(t){return(e,n,r,i)=>{const s=t[e.method];return s===void 0?r():typeof s=="function"?s(e,n,r,i):(n.result=s,i())}}mi.createScaffoldMiddleware=M0;var mr={},R0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});mr.JsonRpcEngine=void 0;const A0=R0(nn),He=Us;class yt extends A0.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,n){if(n&&typeof n!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?n?this._handleBatch(e,n):this._handleBatch(e):n?this._handle(e,n):this._promiseHandle(e)}asMiddleware(){return async(e,n,r,i)=>{try{const[s,o,a]=await yt._runAllMiddleware(e,n,this._middleware);return o?(await yt._runReturnHandlers(a),i(s)):r(async c=>{try{await yt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,n){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return n?n(null,r):r}catch(r){if(n)return n(r);throw r}}_promiseHandle(e){return new Promise(n=>{this._handle(e,(r,i)=>{n(i)})})}async _handle(e,n){if(!e||Array.isArray(e)||typeof e!="object"){const o=new He.EthereumRpcError(He.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return n(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new He.EthereumRpcError(He.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return n(o,{id:e.id,jsonrpc:"2.0",error:o})}const r=Object.assign({},e),i={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=He.serializeError(s))),n(s,i)}async _processRequest(e,n){const[r,i,s]=await yt._runAllMiddleware(e,n,this._middleware);if(yt._checkForCompletion(e,n,i),await yt._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,n,r){const i=[];let s=null,o=!1;for(const a of r)if([s,o]=await yt._runMiddleware(e,n,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,n,r,i){return new Promise(s=>{const o=c=>{const u=c||n.error;u&&(n.error=He.serializeError(u)),s([u,!0])},a=c=>{n.error?o(n.error):(c&&(typeof c!="function"&&o(new He.EthereumRpcError(He.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${as(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{r(e,n,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((r,i)=>{n(s=>s?i(s):r())})}static _checkForCompletion(e,n,r){if(!("result"in n)&&!("error"in n))throw new He.EthereumRpcError(He.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${as(e)}`,{request:e});if(!r)throw new He.EthereumRpcError(He.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${as(e)}`,{request:e})}}mr.JsonRpcEngine=yt;function as(t){return JSON.stringify(t,null,2)}var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.mergeMiddleware=void 0;const T0=mr;function O0(t){const e=new T0.JsonRpcEngine;return t.forEach(n=>e.push(n)),e.asMiddleware()}vi.mergeMiddleware=O0;(function(t){var e=A&&A.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=A&&A.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(gi,t),n(yi,t),n(mi,t),n(yr,t),n(mr,t),n(vi,t)})(fo);var Au={},ho={},_i={exports:{}};(function(t){var e,n,r,i,s,o,a,c,u,l,f,d,h,_,x,w,C,S,v,M,k,N,V,se,O,B,he,J,ue,Ce,Re;(function(j){var nt=typeof A=="object"?A:typeof self=="object"?self:typeof this=="object"?this:{};j(Et(nt,Et(t.exports)));function Et(Ze,p){return Ze!==nt&&(typeof Object.create=="function"?Object.defineProperty(Ze,"__esModule",{value:!0}):Ze.__esModule=!0),function(b,g){return Ze[b]=p?p(b,g):g}}})(function(j){var nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var g in b)Object.prototype.hasOwnProperty.call(b,g)&&(p[g]=b[g])};e=function(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");nt(p,b);function g(){this.constructor=p}p.prototype=b===null?Object.create(b):(g.prototype=b.prototype,new g)},n=Object.assign||function(p){for(var b,g=1,y=arguments.length;g<y;g++){b=arguments[g];for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(p[I]=b[I])}return p},r=function(p,b){var g={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&b.indexOf(y)<0&&(g[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,y=Object.getOwnPropertySymbols(p);I<y.length;I++)b.indexOf(y[I])<0&&Object.prototype.propertyIsEnumerable.call(p,y[I])&&(g[y[I]]=p[y[I]]);return g},i=function(p,b,g,y){var I=arguments.length,E=I<3?b:y===null?y=Object.getOwnPropertyDescriptor(b,g):y,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,b,g,y);else for(var Q=p.length-1;Q>=0;Q--)(D=p[Q])&&(E=(I<3?D(E):I>3?D(b,g,E):D(b,g))||E);return I>3&&E&&Object.defineProperty(b,g,E),E},s=function(p,b){return function(g,y){b(g,y,p)}},o=function(p,b,g,y,I,E){function D(Hn){if(Hn!==void 0&&typeof Hn!="function")throw new TypeError("Function expected");return Hn}for(var Q=y.kind,$e=Q==="getter"?"get":Q==="setter"?"set":"value",F=!b&&p?y.static?p:p.prototype:null,le=b||(F?Object.getOwnPropertyDescriptor(F,y.name):{}),xe,be=!1,rt=g.length-1;rt>=0;rt--){var Ct={};for(var xt in y)Ct[xt]=xt==="access"?{}:y[xt];for(var xt in y.access)Ct.access[xt]=y.access[xt];Ct.addInitializer=function(Hn){if(be)throw new TypeError("Cannot add initializers after decoration has completed");E.push(D(Hn||null))};var $t=(0,g[rt])(Q==="accessor"?{get:le.get,set:le.set}:le[$e],Ct);if(Q==="accessor"){if($t===void 0)continue;if($t===null||typeof $t!="object")throw new TypeError("Object expected");(xe=D($t.get))&&(le.get=xe),(xe=D($t.set))&&(le.set=xe),(xe=D($t.init))&&I.unshift(xe)}else(xe=D($t))&&(Q==="field"?I.unshift(xe):le[$e]=xe)}F&&Object.defineProperty(F,y.name,le),be=!0},a=function(p,b,g){for(var y=arguments.length>2,I=0;I<b.length;I++)g=y?b[I].call(p,g):b[I].call(p);return y?g:void 0},c=function(p){return typeof p=="symbol"?p:"".concat(p)},u=function(p,b,g){return typeof b=="symbol"&&(b=b.description?"[".concat(b.description,"]"):""),Object.defineProperty(p,"name",{configurable:!0,value:g?"".concat(g," ",b):b})},l=function(p,b){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,b)},f=function(p,b,g,y){function I(E){return E instanceof g?E:new g(function(D){D(E)})}return new(g||(g=Promise))(function(E,D){function Q(le){try{F(y.next(le))}catch(xe){D(xe)}}function $e(le){try{F(y.throw(le))}catch(xe){D(xe)}}function F(le){le.done?E(le.value):I(le.value).then(Q,$e)}F((y=y.apply(p,b||[])).next())})},d=function(p,b){var g={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},y,I,E,D;return D={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function Q(F){return function(le){return $e([F,le])}}function $e(F){if(y)throw new TypeError("Generator is already executing.");for(;D&&(D=0,F[0]&&(g=0)),g;)try{if(y=1,I&&(E=F[0]&2?I.return:F[0]?I.throw||((E=I.return)&&E.call(I),0):I.next)&&!(E=E.call(I,F[1])).done)return E;switch(I=0,E&&(F=[F[0]&2,E.value]),F[0]){case 0:case 1:E=F;break;case 4:return g.label++,{value:F[1],done:!1};case 5:g.label++,I=F[1],F=[0];continue;case 7:F=g.ops.pop(),g.trys.pop();continue;default:if(E=g.trys,!(E=E.length>0&&E[E.length-1])&&(F[0]===6||F[0]===2)){g=0;continue}if(F[0]===3&&(!E||F[1]>E[0]&&F[1]<E[3])){g.label=F[1];break}if(F[0]===6&&g.label<E[1]){g.label=E[1],E=F;break}if(E&&g.label<E[2]){g.label=E[2],g.ops.push(F);break}E[2]&&g.ops.pop(),g.trys.pop();continue}F=b.call(p,g)}catch(le){F=[6,le],I=0}finally{y=E=0}if(F[0]&5)throw F[1];return{value:F[0]?F[1]:void 0,done:!0}}},h=function(p,b){for(var g in p)g!=="default"&&!Object.prototype.hasOwnProperty.call(b,g)&&ue(b,p,g)},ue=Object.create?function(p,b,g,y){y===void 0&&(y=g);var I=Object.getOwnPropertyDescriptor(b,g);(!I||("get"in I?!b.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return b[g]}}),Object.defineProperty(p,y,I)}:function(p,b,g,y){y===void 0&&(y=g),p[y]=b[g]},_=function(p){var b=typeof Symbol=="function"&&Symbol.iterator,g=b&&p[b],y=0;if(g)return g.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},x=function(p,b){var g=typeof Symbol=="function"&&p[Symbol.iterator];if(!g)return p;var y=g.call(p),I,E=[],D;try{for(;(b===void 0||b-- >0)&&!(I=y.next()).done;)E.push(I.value)}catch(Q){D={error:Q}}finally{try{I&&!I.done&&(g=y.return)&&g.call(y)}finally{if(D)throw D.error}}return E},w=function(){for(var p=[],b=0;b<arguments.length;b++)p=p.concat(x(arguments[b]));return p},C=function(){for(var p=0,b=0,g=arguments.length;b<g;b++)p+=arguments[b].length;for(var y=Array(p),I=0,b=0;b<g;b++)for(var E=arguments[b],D=0,Q=E.length;D<Q;D++,I++)y[I]=E[D];return y},S=function(p,b,g){if(g||arguments.length===2)for(var y=0,I=b.length,E;y<I;y++)(E||!(y in b))&&(E||(E=Array.prototype.slice.call(b,0,y)),E[y]=b[y]);return p.concat(E||Array.prototype.slice.call(b))},v=function(p){return this instanceof v?(this.v=p,this):new v(p)},M=function(p,b,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=g.apply(p,b||[]),I,E=[];return I={},D("next"),D("throw"),D("return"),I[Symbol.asyncIterator]=function(){return this},I;function D(be){y[be]&&(I[be]=function(rt){return new Promise(function(Ct,xt){E.push([be,rt,Ct,xt])>1||Q(be,rt)})})}function Q(be,rt){try{$e(y[be](rt))}catch(Ct){xe(E[0][3],Ct)}}function $e(be){be.value instanceof v?Promise.resolve(be.value.v).then(F,le):xe(E[0][2],be)}function F(be){Q("next",be)}function le(be){Q("throw",be)}function xe(be,rt){be(rt),E.shift(),E.length&&Q(E[0][0],E[0][1])}},k=function(p){var b,g;return b={},y("next"),y("throw",function(I){throw I}),y("return"),b[Symbol.iterator]=function(){return this},b;function y(I,E){b[I]=p[I]?function(D){return(g=!g)?{value:v(p[I](D)),done:!1}:E?E(D):D}:E}},N=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=p[Symbol.asyncIterator],g;return b?b.call(p):(p=typeof _=="function"?_(p):p[Symbol.iterator](),g={},y("next"),y("throw"),y("return"),g[Symbol.asyncIterator]=function(){return this},g);function y(E){g[E]=p[E]&&function(D){return new Promise(function(Q,$e){D=p[E](D),I(Q,$e,D.done,D.value)})}}function I(E,D,Q,$e){Promise.resolve($e).then(function(F){E({value:F,done:Q})},D)}},V=function(p,b){return Object.defineProperty?Object.defineProperty(p,"raw",{value:b}):p.raw=b,p};var Et=Object.create?function(p,b){Object.defineProperty(p,"default",{enumerable:!0,value:b})}:function(p,b){p.default=b};se=function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&ue(b,p,g);return Et(b,p),b},O=function(p){return p&&p.__esModule?p:{default:p}},B=function(p,b,g,y){if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof b=="function"?p!==b||!y:!b.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?y:g==="a"?y.call(p):y?y.value:b.get(p)},he=function(p,b,g,y,I){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof b=="function"?p!==b||!I:!b.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?I.call(p,g):I?I.value=g:b.set(p,g),g},J=function(p,b){if(b===null||typeof b!="object"&&typeof b!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof p=="function"?b===p:p.has(b)},Ce=function(p,b,g){if(b!=null){if(typeof b!="object"&&typeof b!="function")throw new TypeError("Object expected.");var y;if(g){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");y=b[Symbol.asyncDispose]}if(y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");y=b[Symbol.dispose]}if(typeof y!="function")throw new TypeError("Object not disposable.");p.stack.push({value:b,dispose:y,async:g})}else g&&p.stack.push({async:!0});return b};var Ze=typeof SuppressedError=="function"?SuppressedError:function(p,b,g){var y=new Error(g);return y.name="SuppressedError",y.error=p,y.suppressed=b,y};Re=function(p){function b(y){p.error=p.hasError?new Ze(y,p.error,"An error was suppressed during disposal."):y,p.hasError=!0}function g(){for(;p.stack.length;){var y=p.stack.pop();try{var I=y.dispose&&y.dispose.call(y.value);if(y.async)return Promise.resolve(I).then(g,function(E){return b(E),g()})}catch(E){b(E)}}if(p.hasError)throw p.error}return g()},j("__extends",e),j("__assign",n),j("__rest",r),j("__decorate",i),j("__param",s),j("__esDecorate",o),j("__runInitializers",a),j("__propKey",c),j("__setFunctionName",u),j("__metadata",l),j("__awaiter",f),j("__generator",d),j("__exportStar",h),j("__createBinding",ue),j("__values",_),j("__read",x),j("__spread",w),j("__spreadArrays",C),j("__spreadArray",S),j("__await",v),j("__asyncGenerator",M),j("__asyncDelegator",k),j("__asyncValues",N),j("__makeTemplateObject",V),j("__importStar",se),j("__importDefault",O),j("__classPrivateFieldGet",B),j("__classPrivateFieldSet",he),j("__classPrivateFieldIn",J),j("__addDisposableResource",Ce),j("__disposeResources",Re)})})(_i);var wi={};Object.defineProperty(wi,"__esModule",{value:!0});var ka=_i.exports,N0=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,n=this.isLocked(),r=new Promise(function(i){return e._queue.push(i)});return n||this._dispatch(),r},t.prototype.runExclusive=function(e){return ka.__awaiter(this,void 0,void 0,function(){var n,r,i;return ka.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:n=s.sent(),r=n[0],i=n[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,n=this._queue.shift();if(!!n){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},n([this._value--,this._currentReleaser])}},t}();wi.default=N0;Object.defineProperty(ho,"__esModule",{value:!0});var Ia=_i.exports,L0=wi,P0=function(){function t(){this._semaphore=new L0.default(1)}return t.prototype.acquire=function(){return Ia.__awaiter(this,void 0,void 0,function(){var e,n;return Ia.__generator(this,function(r){switch(r.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=r.sent(),n=e[1],[2,n]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();ho.default=P0;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.withTimeout=void 0;var Lr=_i.exports;function D0(t,e,n){var r=this;return n===void 0&&(n=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Lr.__awaiter(r,void 0,void 0,function(){var o,a,c;return Lr.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(n)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Lr.__awaiter(this,void 0,void 0,function(){var s,o;return Lr.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Si.withTimeout=D0;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=ho;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var n=wi;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return n.default}});var r=Si;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return r.withTimeout}})})(Au);const j0=cf,F0=to();var B0=P;function P(t){const e=this;e.currentProvider=t}P.prototype.getBalance=vr(2,"eth_getBalance");P.prototype.getCode=vr(2,"eth_getCode");P.prototype.getTransactionCount=vr(2,"eth_getTransactionCount");P.prototype.getStorageAt=vr(3,"eth_getStorageAt");P.prototype.call=vr(2,"eth_call");P.prototype.protocolVersion=H("eth_protocolVersion");P.prototype.syncing=H("eth_syncing");P.prototype.coinbase=H("eth_coinbase");P.prototype.mining=H("eth_mining");P.prototype.hashrate=H("eth_hashrate");P.prototype.gasPrice=H("eth_gasPrice");P.prototype.accounts=H("eth_accounts");P.prototype.blockNumber=H("eth_blockNumber");P.prototype.getBlockTransactionCountByHash=H("eth_getBlockTransactionCountByHash");P.prototype.getBlockTransactionCountByNumber=H("eth_getBlockTransactionCountByNumber");P.prototype.getUncleCountByBlockHash=H("eth_getUncleCountByBlockHash");P.prototype.getUncleCountByBlockNumber=H("eth_getUncleCountByBlockNumber");P.prototype.sign=H("eth_sign");P.prototype.sendTransaction=H("eth_sendTransaction");P.prototype.sendRawTransaction=H("eth_sendRawTransaction");P.prototype.estimateGas=H("eth_estimateGas");P.prototype.getBlockByHash=H("eth_getBlockByHash");P.prototype.getBlockByNumber=H("eth_getBlockByNumber");P.prototype.getTransactionByHash=H("eth_getTransactionByHash");P.prototype.getTransactionByBlockHashAndIndex=H("eth_getTransactionByBlockHashAndIndex");P.prototype.getTransactionByBlockNumberAndIndex=H("eth_getTransactionByBlockNumberAndIndex");P.prototype.getTransactionReceipt=H("eth_getTransactionReceipt");P.prototype.getUncleByBlockHashAndIndex=H("eth_getUncleByBlockHashAndIndex");P.prototype.getUncleByBlockNumberAndIndex=H("eth_getUncleByBlockNumberAndIndex");P.prototype.getCompilers=H("eth_getCompilers");P.prototype.compileLLL=H("eth_compileLLL");P.prototype.compileSolidity=H("eth_compileSolidity");P.prototype.compileSerpent=H("eth_compileSerpent");P.prototype.newFilter=H("eth_newFilter");P.prototype.newBlockFilter=H("eth_newBlockFilter");P.prototype.newPendingTransactionFilter=H("eth_newPendingTransactionFilter");P.prototype.uninstallFilter=H("eth_uninstallFilter");P.prototype.getFilterChanges=H("eth_getFilterChanges");P.prototype.getFilterLogs=H("eth_getFilterLogs");P.prototype.getLogs=H("eth_getLogs");P.prototype.getWork=H("eth_getWork");P.prototype.submitWork=H("eth_submitWork");P.prototype.submitHashrate=H("eth_submitHashrate");P.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync($0(t),function(r,i){if(!r&&i.error&&(r=new Error("EthQuery - RPC Error - "+i.error.message)),r)return e(r);e(null,i.result)})};function H(t){return function(){const e=this;var n=[].slice.call(arguments),r=n.pop();e.sendAsync({method:t,params:n},r)}}function vr(t,e){return function(){const n=this;var r=[].slice.call(arguments),i=r.pop();r.length<t&&r.push("latest"),n.sendAsync({method:e,params:r},i)}}function $0(t){return j0({id:F0(),jsonrpc:"2.0",params:[]},t)}const Ma=(t,e,n,r)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,l)=>{u?a(u):o(l)}):i.push(o),Reflect.apply(t,this===n?r:this,i)})},Ra=new WeakMap;var W0=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const n=typeof t;if(!(t!==null&&(n==="object"||n==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":n}\``);const r=(o,a)=>{let c=Ra.get(o);if(c||(c={},Ra.set(o,c)),a in c)return c[a];const u=_=>typeof _=="string"||typeof a=="symbol"?a===_:_.test(a),l=Reflect.getOwnPropertyDescriptor(o,a),f=l===void 0||l.writable||l.configurable,h=(e.include?e.include.some(u):!e.exclude.some(u))&&f;return c[a]=h,h},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const l=e.excludeMain?o:Ma(o,e,s,o);return i.set(o,l),Reflect.apply(l,a,c)},get(o,a){const c=o[a];if(!r(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const l=Ma(c,e,s,o);return i.set(c,l),l}return c}});return s};const H0=nn.default;class V0 extends H0{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(n=>this.emit("update",n))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var po=V0;const z0=po;class U0 extends z0{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var q0=U0,_r={minBlockRef:J0,maxBlockRef:G0,sortBlockRefs:bo,bnToHex:Q0,blockRefIsNumber:Z0,hexToInt:Qr,incrementHexInt:K0,intToHex:Tu,unsafeRandomBytes:Y0};function J0(...t){return bo(t)[0]}function G0(...t){const e=bo(t);return e[e.length-1]}function bo(t){return t.sort((e,n)=>e==="latest"||n==="earliest"?1:n==="latest"||e==="earliest"?-1:Qr(e)-Qr(n))}function Q0(t){return"0x"+t.toString(16)}function Z0(t){return t&&!["earliest","latest","pending"].includes(t)}function Qr(t){return t==null?t:Number.parseInt(t,16)}function K0(t){if(t==null)return t;const e=Qr(t);return Tu(e+1)}function Tu(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function Y0(t){let e="0x";for(let n=0;n<t;n++)e+=Aa(),e+=Aa();return e}function Aa(){return Math.floor(Math.random()*16).toString(16)}const X0=B0,eb=W0,tb=q0,{bnToHex:_S,hexToInt:Pr,incrementHexInt:nb,minBlockRef:rb,blockRefIsNumber:ib}=_r;class sb extends tb{constructor({provider:e,params:n}){super(),this.type="log",this.ethQuery=new X0(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let n=this.params.fromBlock;["latest","pending"].includes(n)&&(n=e),n==="earliest"&&(n="0x0"),this.params.fromBlock=n;const r=rb(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:n}){const r=n;let i;e?i=nb(e):i=n;const s=Object.assign({},this.params,{fromBlock:i,toBlock:r}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await eb(r=>this.ethQuery.getLogs(e,r))()}matchLog(e){if(Pr(this.params.fromBlock)>=Pr(e.blockNumber)||ib(this.params.toBlock)&&Pr(this.params.toBlock)<=Pr(e.blockNumber))return!1;const n=e.address&&e.address.toLowerCase();return this.params.address&&n&&!this.params.address.includes(n)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(l=>l.toLowerCase()),a.includes(o))})}}var ob=sb,go=ab;async function ab({provider:t,fromBlock:e,toBlock:n}){e||(e=n);const r=Ta(e),s=Ta(n)-r+1,o=Array(s).fill().map((c,u)=>r+u).map(cb);return await Promise.all(o.map(c=>lb(t,"eth_getBlockByNumber",[c,!1])))}function Ta(t){return t==null?t:Number.parseInt(t,16)}function cb(t){return t==null?t:"0x"+t.toString(16)}function ub(t,e){return new Promise((n,r)=>{t.sendAsync(e,(i,s)=>{i?r(i):s.error?r(s.error):s.result?n(s.result):r(new Error("Result was empty"))})})}async function lb(t,e,n){for(let r=0;r<3;r++)try{return await ub(t,{id:1,jsonrpc:"2.0",method:e,params:n})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(n)}`)}const fb=po,db=go,{incrementHexInt:hb}=_r;class pb extends fb{constructor({provider:e,params:n}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:n}){const r=n,i=hb(e),o=(await db({provider:this.provider,fromBlock:i,toBlock:r})).map(a=>a.hash);this.addResults(o)}}var bb=pb;const gb=po,yb=go,{incrementHexInt:mb}=_r;class vb extends gb{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const n=e,r=mb(e),i=await yb({provider:this.provider,fromBlock:r,toBlock:n}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var _b=vb;const wb=Au.Mutex,{createAsyncMiddleware:Sb,createScaffoldMiddleware:Eb}=fo,Cb=ob,xb=bb,kb=_b,{intToHex:Ou,hexToInt:cs}=_r;var Ib=Mb;function Mb({blockTracker:t,provider:e}){let n=0,r={};const i=new wb,s=Rb({mutex:i}),o=Eb({eth_newFilter:s(us(c)),eth_newBlockFilter:s(us(u)),eth_newPendingTransactionFilter:s(us(l)),eth_uninstallFilter:s(Hr(h)),eth_getFilterChanges:s(Hr(f)),eth_getFilterLogs:s(Hr(d))}),a=async({oldBlock:S,newBlock:v})=>{if(r.length===0)return;const M=await i.acquire();try{await Promise.all(un(r).map(async k=>{try{await k.update({oldBlock:S,newBlock:v})}catch(N){console.error(N)}}))}catch(k){console.error(k)}M()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=l,o.uninstallFilter=h,o.getFilterChanges=f,o.getFilterLogs=d,o.destroy=()=>{w()},o;async function c(S){const v=new Cb({provider:e,params:S});return await _(v),v}async function u(){const S=new xb({provider:e});return await _(S),S}async function l(){const S=new kb({provider:e});return await _(S),S}async function f(S){const v=cs(S),M=r[v];if(!M)throw new Error(`No filter for index "${v}"`);return M.getChangesAndClear()}async function d(S){const v=cs(S),M=r[v];if(!M)throw new Error(`No filter for index "${v}"`);let k=[];return M.type==="log"&&(k=M.getAllResults()),k}async function h(S){const v=cs(S),M=r[v],k=Boolean(M);return k&&await x(v),k}async function _(S){const v=un(r).length,M=await t.getLatestBlock();await S.initialize({currentBlock:M}),n++,r[n]=S,S.id=n,S.idHex=Ou(n);const k=un(r).length;return C({prevFilterCount:v,newFilterCount:k}),n}async function x(S){const v=un(r).length;delete r[S];const M=un(r).length;C({prevFilterCount:v,newFilterCount:M})}async function w(){const S=un(r).length;r={},C({prevFilterCount:S,newFilterCount:0})}function C({prevFilterCount:S,newFilterCount:v}){if(S===0&&v>0){t.on("sync",a);return}if(S>0&&v===0){t.removeListener("sync",a);return}}}function us(t){return Hr(async(...e)=>{const n=await t(...e);return Ou(n.id)})}function Hr(t){return Sb(async(e,n)=>{const r=await t.apply(null,e.params);n.result=r})}function Rb({mutex:t}){return e=>async(n,r,i,s)=>{(await t.acquire())(),e(n,r,i,s)}}function un(t,e){const n=[];for(let r in t)n.push(t[r]);return n}const Ab=nn.default,{createAsyncMiddleware:Oa,createScaffoldMiddleware:Tb}=fo,Ob=Ib,{unsafeRandomBytes:Nb,incrementHexInt:Lb}=_r,Pb=go;var Db=jb;function jb({blockTracker:t,provider:e}){const n={},r=Ob({blockTracker:t,provider:e});let i=!1;const s=new Ab,o=Tb({eth_subscribe:Oa(a),eth_unsubscribe:Oa(c)});return o.destroy=l,{events:s,middleware:o};async function a(f,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const h=f.params[0],_=Nb(16);let x;switch(h){case"newHeads":x=w({subId:_});break;case"logs":const S=f.params[1],v=await r.newLogFilter(S);x=C({subId:_,filter:v});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${h}"`)}n[_]=x,d.result=_;return;function w({subId:S}){const v={type:h,destroy:async()=>{t.removeListener("sync",v.update)},update:async({oldBlock:M,newBlock:k})=>{const N=k,V=Lb(M);(await Pb({provider:e,fromBlock:V,toBlock:N})).map(Fb).filter(B=>B!==null).forEach(B=>{u(S,B)})}};return t.on("sync",v.update),v}function C({subId:S,filter:v}){return v.on("update",k=>u(S,k)),{type:h,destroy:async()=>await r.uninstallFilter(v.idHex)}}}async function c(f,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const h=f.params[0],_=n[h];if(!_){d.result=!1;return}delete n[h],await _.destroy(),d.result=!0}function u(f,d){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:f,result:d}})}function l(){s.removeAllListeners();for(const f in n)n[f].destroy(),delete n[f];i=!0}}function Fb(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(li,"__esModule",{value:!0});li.SubscriptionManager=void 0;const Bb=nu,$b=Db,Na=()=>{};class Wb{constructor(e){const n=new Bb.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:r,middleware:i}=$b({blockTracker:n,provider:e});this.events=r,this.subscriptionMiddleware=i}async handleRequest(e){const n={};return await this.subscriptionMiddleware(e,n,Na,Na),n}destroy(){this.subscriptionMiddleware.destroy()}}li.SubscriptionManager=Wb;var yo=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vn,"__esModule",{value:!0});vn.CoinbaseWalletProvider=void 0;const Hb=yo(nn),Vb=yo(ni.exports),ls=On,Z=cr,La=Ln,Pa=tt,fs=ai,zb=Y,$=R,ds=yo(Ah),Ub=Sn,G=tu,qb=li,Da="DefaultChainId",ja="DefaultJsonRpcUrl";class Jb extends Hb.default{constructor(e){var n,r;super(),this._filterPolyfill=new Ub.FilterPolyfill(this),this._subscriptionManager=new qb.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this.isCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,$.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Pa.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,$.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,l=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(l,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,$.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(ja))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(ja,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,n){this.isCoinbaseBrowser||(this._chainIdFromOpts=n,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,n){this.jsonRpcUrl=e;const r=this.getChainId();this._storage.setItem(Da,n.toString(10)),((0,$.ensureIntNumber)(n)!==r||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,n,r,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,n,r,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,n,r,i,s,o){var a,c;if((0,$.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),l=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!l&&await u.requestEthereumAccounts().promise;const f=await u.addEthereumChain(e.toString(),n,s,r,i,o).promise;return((a=f.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(n[0],e),((c=f.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const r=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,zb.isErrorResponse)(r)&&r.errorCode)throw r.errorCode===Z.standardErrorCodes.provider.unsupportedChain?Z.standardErrors.provider.unsupportedChain(e):Z.standardErrors.provider.custom({message:r.errorMessage,code:r.errorCode});const i=r.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,n){this.initializeRelay().then(r=>r.setAppInfo(e,n))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(ls.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?La.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(G.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,n){try{const r=this._send(e,n);if(r instanceof Promise)return r.catch(i=>{throw(0,Z.serializeError)(i,e)})}catch(r){throw(0,Z.serializeError)(r,e)}}_send(e,n){if(typeof e=="string"){const i=e,s=Array.isArray(n)?n:n!==void 0?[n]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof n=="function"){const i=e,s=n;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const r=e;return this._sendRequest(r)}async sendAsync(e,n){try{return this._sendAsync(e,n).catch(r=>{throw(0,Z.serializeError)(r,e)})}catch(r){return Promise.reject((0,Z.serializeError)(r,e))}}async _sendAsync(e,n){if(typeof n!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=n;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const r=n;return this._sendRequestAsync(e).then(i=>r(null,i)).catch(i=>r(i,null))}async request(e){try{return this._request(e).catch(n=>{throw(0,Z.serializeError)(n,e.method)})}catch(n){return Promise.reject((0,Z.serializeError)(n,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Z.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:n,params:r}=e;if(typeof n!="string"||n.length===0)throw Z.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Z.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=r===void 0?[]:r,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:n,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var n;const i=await(await this.initializeRelay()).scanQRCode((0,$.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((n=i.errorMessage)!==null&&n!==void 0?n:"result was not a string",fs.Web3Method.scanQRCode);return i.result}async genericRequest(e,n){var r;const s=await(await this.initializeRelay()).genericRequest(e,n).promise;if(typeof s.result!="string")throw(0,Z.serializeError)((r=s.errorMessage)!==null&&r!==void 0?r:"result was not a string",fs.Web3Method.generic);return s.result}async selectProvider(e){var n;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Z.serializeError)((n=i.errorMessage)!==null&&n!==void 0?n:"result was not a string",fs.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const n={jsonrpc:"2.0",id:e.id},{method:r}=e;if(n.result=this._handleSynchronousMethods(e),n.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${r} synchronously without a callback. Please provide a callback parameter to call ${r} asynchronously.`);return n}_setAddresses(e,n){if(!Array.isArray(e))throw new Error("addresses is not an array");const r=e.map(i=>(0,$.ensureAddressString)(i));JSON.stringify(r)!==JSON.stringify(this._addresses)&&(this._addresses=r,this.emit("accountsChanged",this._addresses),this._storage.setItem(Pa.LOCAL_STORAGE_ADDRESSES_KEY,r.join(" ")))}_sendRequestAsync(e){return new Promise((n,r)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return n({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>n(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>r(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>n({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>r(a));return}}catch(i){return r(i)}this._handleAsynchronousMethods(e).then(i=>i&&n(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>r(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(n=>this._sendRequestAsync(n)))}_handleSynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case G.JSONRPCMethod.eth_accounts:return this._eth_accounts();case G.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case G.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case G.JSONRPCMethod.net_version:return this._net_version();case G.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:n}=e,r=e.params||[];switch(n){case G.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case G.JSONRPCMethod.eth_sign:return this._eth_sign(r);case G.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case G.JSONRPCMethod.personal_sign:return this._personal_sign(r);case G.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case G.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case G.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case G.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case G.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case G.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case G.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case G.JSONRPCMethod.eth_signTypedData_v4:case G.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case G.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(r);case G.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case G.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case G.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:n}=e,r=e.params||[];switch(n){case G.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case G.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case G.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case G.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case G.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case G.JSONRPCMethod.eth_subscribe:case G.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const n=(0,$.ensureAddressString)(e);return this._addresses.map(i=>(0,$.ensureAddressString)(i)).includes(n)}catch{}return!1}_ensureKnownAddress(e){var n;if(!this._isKnownAddress(e))throw(n=this.diagnostic)===null||n===void 0||n.log(ls.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?(0,$.ensureAddressString)(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?(0,$.ensureAddressString)(e.to):null,i=e.value!=null?(0,$.ensureBN)(e.value):new Vb.default(0),s=e.data?(0,$.ensureBuffer)(e.data):q.Buffer.alloc(0),o=e.nonce!=null?(0,$.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,$.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,$.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,$.ensureBN)(e.maxPriorityFeePerGas):null,l=e.gas!=null?(0,$.ensureBN)(e.gas):null,f=this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:l,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Z.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Z.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,n,r,i){this._ensureKnownAddress(n);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,n,r,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,n,r){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,n,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,$.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Da);if(!e)return(0,$.ensureIntNumber)(this._chainIdFromOpts);const n=parseInt(e,10);return(0,$.ensureIntNumber)(n)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(ls.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?La.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let n;try{n=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const n=(0,$.ensureAddressString)(e[0]),r=(0,$.ensureBuffer)(e[1]);return this._signEthereumMessage(r,n,!1)}_eth_ecRecover(e){const n=(0,$.ensureBuffer)(e[0]),r=(0,$.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!1)}_personal_sign(e){this._requireAuthorization();const n=(0,$.ensureBuffer)(e[0]),r=(0,$.ensureAddressString)(e[1]);return this._signEthereumMessage(n,r,!0)}_personal_ecRecover(e){const n=(0,$.ensureBuffer)(e[0]),r=(0,$.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(n,r,!0)}async _eth_signTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_sendRawTransaction(e){const n=(0,$.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(n,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const n=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(n).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?Z.standardErrors.provider.userRejectedRequest("User denied transaction signature"):r}}async _eth_signTypedData_v1(e){this._requireAuthorization();const n=(0,$.ensureParsedJSONObject)(e[0]),r=(0,$.ensureAddressString)(e[1]);this._ensureKnownAddress(r);const i=ds.default.hashForSignTypedDataLegacy({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const n=(0,$.ensureAddressString)(e[0]),r=(0,$.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=ds.default.hashForSignTypedData_v3({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const n=(0,$.ensureAddressString)(e[0]),r=(0,$.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(n);const i=ds.default.hashForSignTypedData_v4({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _cbwallet_arbitrary(e){const n=e[0],r=e[1];if(typeof r!="string")throw new Error("parameter must be a string");if(typeof n!="object"||n===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(n,r)}}async _wallet_addEthereumChain(e){var n,r,i,s;const o=e[0];if(((n=o.rpcUrls)===null||n===void 0?void 0:n.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Z.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Z.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(r=o.rpcUrls)!==null&&r!==void 0?r:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const n=e[0];return await this.switchEthereumChain(parseInt(n.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw Z.standardErrors.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw Z.standardErrors.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw Z.standardErrors.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw Z.standardErrors.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=n.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(n.type,i,s,a,o,r)}}_eth_uninstallFilter(e){const n=(0,$.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(n)}async _eth_newFilter(e){const n=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(n)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const n=(0,$.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(n)}_eth_getFilterLogs(e){const n=(0,$.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(n)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((n,r)=>this._setAddresses(n,r)),e.setChainCallback((n,r)=>{this.updateProviderInfo(r,parseInt(n,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}vn.CoinbaseWalletProvider=Jb;var Ei={},Ci={},wr,X,Nu,Lu,Jt,Fa,Pu,Os,Du,ir={},ju=[],Gb=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xi=Array.isArray;function mt(t,e){for(var n in e)t[n]=e[n];return t}function Fu(t){var e=t.parentNode;e&&e.removeChild(t)}function Ns(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?wr.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Yn(t,o,r,i,null)}function Yn(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i==null?++Nu:i,__i:-1,__u:0};return i==null&&X.vnode!=null&&X.vnode(s),s}function Qb(){return{current:null}}function Sr(t){return t.children}function Xn(t,e){this.props=t,this.context=e}function Yt(t,e){if(e==null)return t.__?Yt(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Yt(t):null}function Bu(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Bu(t)}}function Ls(t){(!t.__d&&(t.__d=!0)&&Jt.push(t)&&!Zr.__r++||Fa!==X.debounceRendering)&&((Fa=X.debounceRendering)||Pu)(Zr)}function Zr(){var t,e,n,r,i,s,o,a,c;for(Jt.sort(Os);t=Jt.shift();)t.__d&&(e=Jt.length,r=void 0,s=(i=(n=t).__v).__e,a=[],c=[],(o=n.__P)&&((r=mt({},i)).__v=i.__v+1,X.vnode&&X.vnode(r),mo(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s==null?Yt(i):s,!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,Vu(a,r,c),r.__e!=s&&Bu(r)),Jt.length>e&&Jt.sort(Os));Zr.__r=0}function $u(t,e,n,r,i,s,o,a,c,u,l){var f,d,h,_,x,w=r&&r.__k||ju,C=e.length;for(n.__d=c,Zb(n,e,w),c=n.__d,f=0;f<C;f++)(h=n.__k[f])!=null&&typeof h!="boolean"&&typeof h!="function"&&(d=h.__i===-1?ir:w[h.__i]||ir,h.__i=f,mo(t,h,d,i,s,o,a,c,u,l),_=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&vo(d.ref,null,h),l.push(h.ref,h.__c||_,h)),x==null&&_!=null&&(x=_),65536&h.__u||d.__k===h.__k?(_||d.__e!=c||(c=Yt(d)),c=Wu(h,c,t)):typeof h.type=="function"&&h.__d!==void 0?c=h.__d:_&&(c=_.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=x}function Zb(t,e,n){var r,i,s,o,a,c=e.length,u=n.length,l=u,f=0;for(t.__k=[],r=0;r<c;r++)o=r+f,(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Yn(null,i,null,null,null):xi(i)?Yn(Sr,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?Yn(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=Kb(i,n,o,l),i.__i=a,s=null,a!==-1&&(l--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&f--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?f++:a>o?l>c-o?f+=a-o:f--:a<o?a==o-1&&(f=a-o):f=0,a!==r+f&&(i.__u|=65536))):(s=n[o])&&s.key==null&&s.__e&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Yt(s)),Ps(s,s,!1),n[o]=null,l--);if(l)for(r=0;r<u;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Yt(s)),Ps(s,s))}function Wu(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Wu(r[i],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Hu(t,e){return e=e||[],t==null||typeof t=="boolean"||(xi(t)?t.some(function(n){Hu(n,e)}):e.push(t)),e}function Kb(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type&&(131072&c.__u)==0)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return a;a++}}return-1}function Ba(t,e,n){e[0]==="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||Gb.test(e)?n:n+"px"}function Dr(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Ba(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Ba(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,s?Wa:$a,s)):t.removeEventListener(e,s?Wa:$a,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function $a(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(X.event?X.event(t):t)}}function Wa(t){if(this.l)return this.l[t.type+!0](X.event?X.event(t):t)}function mo(t,e,n,r,i,s,o,a,c,u){var l,f,d,h,_,x,w,C,S,v,M,k,N,V,se,O=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(l=X.__b)&&l(e);e:if(typeof O=="function")try{if(C=e.props,S=(l=O.contextType)&&r[l.__c],v=l?S?S.props.value:l.__:r,n.__c?w=(f=e.__c=n.__c).__=f.__E:("prototype"in O&&O.prototype.render?e.__c=f=new O(C,v):(e.__c=f=new Xn(C,v),f.constructor=O,f.render=Xb),S&&S.sub(f),f.props=C,f.state||(f.state={}),f.context=v,f.__n=r,d=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),O.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=mt({},f.__s)),mt(f.__s,O.getDerivedStateFromProps(C,f.__s))),h=f.props,_=f.state,f.__v=e,d)O.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(O.getDerivedStateFromProps==null&&C!==h&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(C,v),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(C,f.__s,v)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(f.props=C,f.state=f.__s,f.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),M=0;M<f._sb.length;M++)f.__h.push(f._sb[M]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(C,f.__s,v),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(h,_,x)})}if(f.context=v,f.props=C,f.__P=t,f.__e=!1,k=X.__r,N=0,"prototype"in O&&O.prototype.render){for(f.state=f.__s,f.__d=!1,k&&k(e),l=f.render(f.props,f.state,f.context),V=0;V<f._sb.length;V++)f.__h.push(f._sb[V]);f._sb=[]}else do f.__d=!1,k&&k(e),l=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++N<25);f.state=f.__s,f.getChildContext!=null&&(r=mt(mt({},r),f.getChildContext())),d||f.getSnapshotBeforeUpdate==null||(x=f.getSnapshotBeforeUpdate(h,_)),$u(t,xi(se=l!=null&&l.type===Sr&&l.key==null?l.props.children:l)?se:[se],e,n,r,i,s,o,a,c,u),f.base=e.__e,e.__u&=-161,f.__h.length&&o.push(f),w&&(f.__E=f.__=null)}catch(B){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),X.__e(B,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Yb(n.__e,e,n,r,i,s,o,c,u);(l=X.diffed)&&l(e)}function Vu(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)vo(n[r],n[++r],n[++r]);X.__c&&X.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){X.__e(s,i.__v)}})}function Yb(t,e,n,r,i,s,o,a,c){var u,l,f,d,h,_,x,w=n.props,C=e.props,S=e.type;if(S==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((h=s[u])&&"setAttribute"in h==!!S&&(S?h.localName===S:h.nodeType===3)){t=h,s[u]=null;break}}if(t==null){if(S===null)return document.createTextNode(C);t=i?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,C.is&&C),s=null,a=!1}if(S===null)w===C||a&&t.data===C||(t.data=C);else{if(s=s&&wr.call(t.childNodes),w=n.props||ir,!a&&s!=null)for(w={},u=0;u<t.attributes.length;u++)w[(h=t.attributes[u]).name]=h.value;for(u in w)h=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?f=h:u==="key"||u in C||Dr(t,u,null,h,i));for(u in C)h=C[u],u=="children"?d=h:u=="dangerouslySetInnerHTML"?l=h:u=="value"?_=h:u=="checked"?x=h:u==="key"||a&&typeof h!="function"||w[u]===h||Dr(t,u,h,w[u],i);if(l)a||f&&(l.__html===f.__html||l.__html===t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(f&&(t.innerHTML=""),$u(t,xi(d)?d:[d],e,n,r,i&&S!=="foreignObject",s,o,s?s[0]:n.__k&&Yt(n,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&Fu(s[u]);a||(u="value",_!==void 0&&(_!==t[u]||S==="progress"&&!_||S==="option"&&_!==w[u])&&Dr(t,u,_,w[u],!1),u="checked",x!==void 0&&x!==t[u]&&Dr(t,u,x,w[u],!1))}return t}function vo(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){X.__e(r,n)}}function Ps(t,e,n){var r,i;if(X.unmount&&X.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||vo(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){X.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Ps(r[i],e,n||typeof t.type!="function");n||t.__e==null||Fu(t.__e),t.__=t.__e=t.__d=void 0}function Xb(t,e,n){return this.constructor(t,n)}function zu(t,e,n){var r,i,s,o;X.__&&X.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],mo(e,t=(!r&&n||e).__k=Ns(Sr,null,[t]),i||ir,ir,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?wr.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),Vu(s,t,o)}function Uu(t,e){zu(t,e,Uu)}function eg(t,e,n){var r,i,s,o,a=mt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?wr.call(arguments,2):n),Yn(t.type,a,r||t.key,i||t.ref,null)}function tg(t,e){var n={__c:e="__cC"+Du++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Ls(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}wr=ju.slice,X={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Nu=0,Lu=function(t){return t!=null&&t.constructor==null},Xn.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=mt({},this.state),typeof t=="function"&&(t=t(mt({},n),this.props)),t&&mt(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ls(this))},Xn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ls(this))},Xn.prototype.render=Sr,Jt=[],Pu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Os=function(t,e){return t.__v.__b-e.__v.__b},Zr.__r=0,Du=0;const ng=Object.freeze(Object.defineProperty({__proto__:null,Component:Xn,Fragment:Sr,cloneElement:eg,createContext:tg,createElement:Ns,createRef:Qb,h:Ns,hydrate:Uu,get isValidElement(){return Lu},get options(){return X},render:zu,toChildArray:Hu},Symbol.toStringTag,{value:"Module"})),Be=tn(ng);function xn(t){return typeof t=="function"}var Ha=!1,ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Ha=t},get useDeprecatedSynchronousErrorHandling(){return Ha}};function hn(t){setTimeout(function(){throw t},0)}var Kr={closed:!0,next:function(t){},error:function(t){if(ze.useDeprecatedSynchronousErrorHandling)throw t;hn(t)},complete:function(){}},Oe=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function _o(t){return t!==null&&typeof t=="object"}var rg=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),er=rg,ie=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(r!==null)for(var a=0;a<r.length;++a){var c=r[a];c.remove(this)}if(xn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof er?Va(f.errors):[f]}}if(Oe(o))for(var a=-1,u=o.length;++a<u;){var l=o[a];if(_o(l))try{l.unsubscribe()}catch(d){e=e||[],d instanceof er?e=e.concat(Va(d.errors)):e.push(d)}}if(e)throw new er(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(i===null)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return n;var s=this._subscriptions;return s===null?this._subscriptions=[n]:s.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Va(t){return t.reduce(function(e,n){return e.concat(n instanceof er?n.errors:n)},[])}var Yr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),T=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Kr;break;case 1:if(!n){s.destination=Kr;break}if(typeof n=="object"){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new za(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new za(s,n,r,i);break}return s}return e.prototype[Yr]=function(){return this},e.create=function(n,r,i){var s=new e(n,r,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},e}(ie),za=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this)||this;o._parentSubscriber=n;var a,c=o;return xn(r)?a=r:r&&(a=r.next,i=r.error,s=r.complete,r!==Kr&&(c=Object.create(r),xn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!ze.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},e.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,i=ze.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)i?(r.syncErrorValue=n,r.syncErrorThrown=!0):hn(n),this.unsubscribe();else{if(this.unsubscribe(),i)throw n;hn(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var i=function(){return n._complete.call(n._context)};!ze.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(r,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(i){if(this.unsubscribe(),ze.useDeprecatedSynchronousErrorHandling)throw i;hn(i)}},e.prototype.__tryOrSetError=function(n,r,i){if(!ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,i)}catch(s){return ze.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(hn(s),!0)}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},e}(T);function wo(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;r&&r instanceof T?t=r:t=null}return!0}function ig(t,e,n){if(t){if(t instanceof T)return t;if(t[Yr])return t[Yr]()}return!t&&!e&&!n?new T(Kr):new T(t,e,n)}var Fn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Dt(t){return t}function Ds(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qu(t)}function qu(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var W=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this.operator,s=ig(e,n,r);if(i?s.add(i.call(s,this.source)):s.add(this.source||ze.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),ze.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){ze.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),wo(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var r=this;return n=Ua(n),new n(function(i,s){var o;o=r.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[Fn]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:qu(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=Ua(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function Ua(t){if(t||(t=ze.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var sg=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Tt=sg,Ju=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.subject=n,i.subscriber=r,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var i=r.indexOf(this.subscriber);i!==-1&&r.splice(i,1)}}},e}(ie),Gu=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.destination=n,r}return e}(T),_e=function(t){m.exports.__extends(e,t);function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype[Yr]=function(){return new Gu(this)},e.prototype.lift=function(n){var r=new qa(this,this);return r.operator=n,r},e.prototype.next=function(n){if(this.closed)throw new Tt;if(!this.isStopped)for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].next(n)},e.prototype.error=function(n){if(this.closed)throw new Tt;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,i=r.length,s=r.slice(),o=0;o<i;o++)s[o].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Tt;this.isStopped=!0;for(var n=this.observers,r=n.length,i=n.slice(),s=0;s<r;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new Tt;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new Tt;return this.hasError?(n.error(this.thrownError),ie.EMPTY):this.isStopped?(n.complete(),ie.EMPTY):(this.observers.push(n),new Ju(this,n))},e.prototype.asObservable=function(){var n=new W;return n.source=this,n},e.create=function(n,r){return new qa(n,r)},e}(W),qa=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},e.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):ie.EMPTY},e}(_e);function So(){return function(e){return e.lift(new og(e))}}var og=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var r=this.connectable;r._refCount++;var i=new ag(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s},t}(),ag=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var i=this.connection,s=n._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(T),Qu=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new ie,n.add(this.source.subscribe(new ug(this.getSubject(),this))),n.closed&&(this._connection=null,n=ie.EMPTY)),n},e.prototype.refCount=function(){return So()(this)},e}(W),cg=function(){var t=Qu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),ug=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.connectable=r,i}return e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},e}(Gu);function lg(t,e,n,r){return function(i){return i.lift(new fg(t,e,n,r))}}var fg=function(){function t(e,n,r,i){this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return t.prototype.call=function(e,n){return n.subscribe(new dg(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),dg=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.keySelector=r,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(n){var r;try{r=this.keySelector(n)}catch(i){this.error(i);return}this._group(n,r)},e.prototype._group=function(n,r){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(r),o;if(this.elementSelector)try{o=this.elementSelector(n)}catch(u){this.error(u)}else o=n;if(!s){s=this.subjectSelector?this.subjectSelector():new _e,i.set(r,s);var a=new js(r,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new js(r,s))}catch(u){this.error(u);return}this.add(c.subscribe(new hg(r,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(i,s){i.error(n)}),r.clear()),this.destination.error(n)},e.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,i){r.complete()}),n.clear()),this.destination.complete()},e.prototype.removeGroup=function(n){this.groups.delete(n)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(T),hg=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.key=n,s.group=r,s.parent=i,s}return e.prototype._next=function(n){this.complete()},e.prototype._unsubscribe=function(){var n=this,r=n.parent,i=n.key;this.key=this.parent=null,r&&r.removeGroup(i)},e}(T),js=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;return s.key=n,s.groupSubject=r,s.refCountSubscription=i,s}return e.prototype._subscribe=function(n){var r=new ie,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&r.add(new pg(s)),r.add(o.subscribe(n)),r},e}(W),pg=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,n.count++,r}return e.prototype.unsubscribe=function(){var n=this.parent;!n.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),n.count-=1,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},e}(ie),Zu=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tt;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(_e),bg=function(t){m.exports.__extends(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(ie),Er=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return r;clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s=void 0;try{this.work(n)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,i=r.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},e}(bg),gg=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?t.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,r){return r>0||this.closed?t.prototype.execute.call(this,n,r):this._execute(n,r)},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,n,r,i):n.flush(this)},e}(Er),Fs=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(r,n)},t.now=function(){return Date.now()},t}(),Cr=function(t){m.exports.__extends(e,t);function e(n,r){r===void 0&&(r=Fs.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(n,r,i){return r===void 0&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var i;this.active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(Fs),yg=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Cr),Ku=new yg(gg),Yu=Ku,kn=new W(function(t){return t.complete()});function Bn(t){return t?mg(t):kn}function mg(t){return new W(function(e){return t.schedule(function(){return e.complete()})})}function Fe(t){return t&&typeof t.schedule=="function"}var Xu=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function Eo(t,e){return new W(function(n){var r=new ie,i=0;return r.add(e.schedule(function(){if(i===t.length){n.complete();return}n.next(t[i++]),n.closed||r.add(this.schedule())})),r})}function xr(t,e){return e?Eo(t,e):new W(Xu(t))}function ki(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Fe(n)?(t.pop(),Eo(t,n)):xr(t)}function Co(t,e){return e?new W(function(n){return e.schedule(vg,0,{error:t,subscriber:n})}):new W(function(n){return n.error(t)})}function vg(t){var e=t.error,n=t.subscriber;n.error(e)}var Bs;Bs||(Bs={});var vt=function(){function t(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,r){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},t.prototype.accept=function(e,n,r){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,r)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ki(this.value);case"E":return Co(this.error);case"C":return Bn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function _g(t,e){return e===void 0&&(e=0),function(r){return r.lift(new wg(t,e))}}var wg=function(){function t(e,n){n===void 0&&(n=0),this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return n.subscribe(new el(e,this.scheduler,this.delay))},t}(),el=function(t){m.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=0);var s=t.call(this,n)||this;return s.scheduler=r,s.delay=i,s}return e.dispatch=function(n){var r=n.notification,i=n.destination;r.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(e.dispatch,this.delay,new Sg(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage(vt.createNext(n))},e.prototype._error=function(n){this.scheduleMessage(vt.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(vt.createComplete()),this.unsubscribe()},e}(T),Sg=function(){function t(e,n){this.notification=e,this.destination=n}return t}(),xo=function(t){m.exports.__extends(e,t);function e(n,r,i){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=n<1?1:n,s._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new Eg(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,i=r?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Tt;if(this.isStopped||this.hasError?a=ie.EMPTY:(this.observers.push(n),a=new Ju(this,n)),s&&n.add(n=new el(n,s)),r)for(var c=0;c<o&&!n.closed;c++)n.next(i[c]);else for(var c=0;c<o&&!n.closed;c++)n.next(i[c].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Yu).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(n-s[a].time<i);)a++;return o>r&&(a=Math.max(a,o-r)),a>0&&s.splice(0,a),s},e}(_e),Eg=function(){function t(e,n){this.time=e,this.value=n}return t}(),$n=function(t){m.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return e.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),ie.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),ie.EMPTY):t.prototype._subscribe.call(this,n)},e.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},e.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(_e),Cg=1,xg=function(){return Promise.resolve()}(),$s={};function Ja(t){return t in $s?(delete $s[t],!0):!1}var Ga={setImmediate:function(t){var e=Cg++;return $s[e]=!0,xg.then(function(){return Ja(e)&&t()}),e},clearImmediate:function(t){Ja(t)}},kg=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=Ga.setImmediate(n.flush.bind(n,null))))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(Ga.clearImmediate(r),n.scheduled=void 0)},e}(Er),Ig=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(Cr),tl=new Ig(kg),Vr=tl,nl=new Cr(Er),Ne=nl,Mg=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i}return e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,n,r,i):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,n,r,i);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},e}(Er),Rg=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r=this.actions,i,s=-1,o=r.length;n=n||r.shift();do if(i=n.execute(n.state,n.delay))break;while(++s<o&&(n=r.shift()));if(this.active=!1,i){for(;++s<o&&(n=r.shift());)n.unsubscribe();throw i}},e}(Cr),rl=new Rg(Mg),Ag=rl,Tg=function(t){m.exports.__extends(e,t);function e(n,r){n===void 0&&(n=il),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,n,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var n=this,r=n.actions,i=n.maxFrames,s,o;(o=r[0])&&o.delay<=i&&(r.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=r.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Cr),il=function(t){m.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=n.index+=1);var s=t.call(this,n,r)||this;return s.scheduler=n,s.work=r,s.index=i,s.active=!0,s.index=n.index=i,s}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(n,r,i){i===void 0&&(i=0),this.delay=n.frame+i;var s=n.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(n,r,i){},e.prototype._execute=function(n,r){if(this.active===!0)return t.prototype._execute.call(this,n,r)},e.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},e}(Er);function ct(){}function Og(t){return!!t&&(t instanceof W||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Ng=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),In=Ng,Lg=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),kr=Lg,Pg=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),sl=Pg;function Qe(t,e){return function(r){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Dg(t,e))}}var Dg=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new jg(e,this.project,this.thisArg))},t}(),jg=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.project=r,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(T);function ol(t,e,n){if(e)if(Fe(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return ol(t,n).apply(void 0,r).pipe(Qe(function(s){return Oe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:n};return new W(function(c){if(n){var l={args:r,subscriber:c,params:a};return n.schedule(Fg,0,l)}else{if(!o){o=new $n;var u=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];o.next(f.length<=1?f[0]:f),o.complete()};try{t.apply(s,r.concat([u]))}catch(f){wo(o)?o.error(f):console.warn(f)}}return o.subscribe(c)}})}}function Fg(t){var e=this,n=t.args,r=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new $n;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d=l.length<=1?l[0]:l;e.add(a.schedule(Bg,0,{value:d,subject:c}))};try{s.apply(o,n.concat([u]))}catch(l){c.error(l)}}this.add(c.subscribe(r))}function Bg(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function al(t,e,n){if(e)if(Fe(e))n=e;else return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return al(t,n).apply(void 0,r).pipe(Qe(function(s){return Oe(s)?e.apply(void 0,s):e(s)}))};return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s={subject:void 0,args:r,callbackFunc:t,scheduler:n,context:this};return new W(function(o){var a=s.context,c=s.subject;if(n)return n.schedule($g,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new $n;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d=l.shift();if(d){c.error(d);return}c.next(l.length<=1?l[0]:l),c.complete()};try{t.apply(a,r.concat([u]))}catch(l){wo(c)?c.error(l):console.warn(l)}}return c.subscribe(o)})}}function $g(t){var e=this,n=t.params,r=t.subscriber,i=t.context,s=n.callbackFunc,o=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new $n;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var d=l.shift();if(d)e.add(a.schedule(Qa,0,{err:d,subject:c}));else{var h=l.length<=1?l[0]:l;e.add(a.schedule(Wg,0,{value:h,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(l){this.add(a.schedule(Qa,0,{err:l,subject:c}))}}this.add(c.subscribe(r))}function Wg(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Qa(t){var e=t.err,n=t.subject;n.error(e)}var an=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(r)},e.prototype.notifyError=function(n,r){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(T),Hg=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this)||this;return s.parent=n,s.outerValue=r,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(T),Vg=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,hn),e}};function zg(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jt=zg(),Ug=function(t){return function(e){var n=t[jt]();do{var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}while(!0);return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},qg=function(t){return function(e){var n=t[Fn]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},cl=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function ul(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var sr=function(t){if(!!t&&typeof t[Fn]=="function")return qg(t);if(cl(t))return Xu(t);if(ul(t))return Vg(t);if(!!t&&typeof t[jt]=="function")return Ug(t);var e=_o(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)};function _t(t,e,n,r,i){if(i===void 0&&(i=new Hg(t,n,r)),!i.closed)return e instanceof W?e.subscribe(i):sr(e)(i)}var Za={};function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return Fe(t[t.length-1])&&(r=t.pop()),typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&Oe(t[0])&&(t=t[0]),xr(t,r).lift(new ko(n))}var ko=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Gg(e,this.resultSelector))},t}(),Gg=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(n){this.values.push(Za),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.active=r,this.toRespond=r;for(var i=0;i<r;i++){var s=n[i];this.add(_t(this,s,void 0,i))}}},e.prototype.notifyComplete=function(n){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(n,r,i){var s=this.values,o=s[i],a=this.toRespond?o===Za?--this.toRespond:this.toRespond:0;s[i]=r,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(an);function Qg(t,e){return new W(function(n){var r=new ie;return r.add(e.schedule(function(){var i=t[Fn]();r.add(i.subscribe({next:function(s){r.add(e.schedule(function(){return n.next(s)}))},error:function(s){r.add(e.schedule(function(){return n.error(s)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}function Zg(t,e){return new W(function(n){var r=new ie;return r.add(e.schedule(function(){return t.then(function(i){r.add(e.schedule(function(){n.next(i),r.add(e.schedule(function(){return n.complete()}))}))},function(i){r.add(e.schedule(function(){return n.error(i)}))})})),r})}function Kg(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(function(n){var r=new ie,i;return r.add(function(){i&&typeof i.return=="function"&&i.return()}),r.add(e.schedule(function(){i=t[jt](),r.add(e.schedule(function(){if(!n.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){n.error(c);return}o?n.complete():(n.next(s),this.schedule())}}))})),r})}function Yg(t){return t&&typeof t[Fn]=="function"}function Xg(t){return t&&typeof t[jt]=="function"}function ll(t,e){if(t!=null){if(Yg(t))return Qg(t,e);if(ul(t))return Zg(t,e);if(cl(t))return Eo(t,e);if(Xg(t)||typeof t=="string")return Kg(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function St(t,e){return e?ll(t,e):t instanceof W?t:new W(sr(t))}var oe=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this)||this;return r.parent=n,r}return e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(T),ae=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(T);function ce(t,e){if(!e.closed){if(t instanceof W)return t.subscribe(e);var n;try{n=sr(t)(e)}catch(r){e.error(r)}return n}}function Xt(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(r){return r.pipe(Xt(function(i,s){return St(t(i,s)).pipe(Qe(function(o,a){return e(i,o,s,a)}))},n))}:(typeof e=="number"&&(n=e),function(r){return r.lift(new ey(t,n))})}var ey=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new ty(e,this.project,this.concurrent))},t}(),ty=function(t){m.exports.__extends(e,t);function e(n,r,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,n)||this;return s.project=r,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new oe(this),i=this.destination;i.add(r);var s=ce(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(ae),ny=Xt;function Io(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Xt(Dt,t)}function fl(){return Io(1)}function or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fl()(ki.apply(void 0,t))}function Mo(t){return new W(function(e){var n;try{n=t()}catch(i){e.error(i);return}var r=n?St(n):Bn();return r.subscribe(e)})}function ry(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var n=t[0];if(Oe(n))return jr(n,null);if(_o(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return jr(r.map(function(s){return n[s]}),r)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Oe(t[0])?t[0]:t,jr(t,null).pipe(Qe(function(s){return i.apply(void 0,s)}))}return jr(t,null)}function jr(t,e){return new W(function(n){var r=t.length;if(r===0){n.complete();return}for(var i=new Array(r),s=0,o=0,a=function(u){var l=St(t[u]),f=!1;n.add(l.subscribe({next:function(d){f||(f=!0,o++),i[u]=d},error:function(d){return n.error(d)},complete:function(){s++,(s===r||!f)&&(o===r&&n.next(e?e.reduce(function(d,h,_){return d[h]=i[_],d},{}):i),n.complete())}}))},c=0;c<r;c++)a(c)})}function dl(t,e,n,r){return xn(n)&&(r=n,n=void 0),r?dl(t,e,n).pipe(Qe(function(i){return Oe(i)?r.apply(void 0,i):r(i)})):new W(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}hl(t,e,s,i,n)})}function hl(t,e,n,r,i){var s;if(oy(t)){var o=t;t.addEventListener(e,n,i),s=function(){return o.removeEventListener(e,n,i)}}else if(sy(t)){var a=t;t.on(e,n),s=function(){return a.off(e,n)}}else if(iy(t)){var c=t;t.addListener(e,n),s=function(){return c.removeListener(e,n)}}else if(t&&t.length)for(var u=0,l=t.length;u<l;u++)hl(t[u],e,n,r,i);else throw new TypeError("Invalid event target");r.add(s)}function iy(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function sy(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function oy(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function pl(t,e,n){return n?pl(t,e).pipe(Qe(function(r){return Oe(r)?n.apply(void 0,r):n(r)})):new W(function(r){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return r.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){r.error(o);return}if(!!xn(e))return function(){return e(i,s)}})}function ay(t,e,n,r,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,n=a.iterate,s=a.resultSelector||Dt,i=a.scheduler}else r===void 0||Fe(r)?(o=t,s=Dt,i=r):(o=t,s=r);return new W(function(c){var u=o;if(i)return i.schedule(cy,0,{subscriber:c,iterate:n,condition:e,resultSelector:s,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(d){c.error(d);return}if(!l){c.complete();break}}var f=void 0;try{f=s(u)}catch(d){c.error(d);return}if(c.next(f),c.closed)break;try{u=n(u)}catch(d){c.error(d);return}}while(!0)})}function cy(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(s){e.error(s);return}if(!r){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function uy(t,e,n){return e===void 0&&(e=kn),n===void 0&&(n=kn),Mo(function(){return t()?e:n})}function Mn(t){return!Oe(t)&&t-parseFloat(t)+1>=0}function ly(t,e){return t===void 0&&(t=0),e===void 0&&(e=Ne),(!Mn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Ne),new W(function(n){return n.add(e.schedule(fy,t,{subscriber:n,counter:0,period:t})),n})}function fy(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function bl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Fe(i)?(r=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(n=t.pop())):typeof i=="number"&&(n=t.pop()),r===null&&t.length===1&&t[0]instanceof W?t[0]:Io(n)(xr(t,r))}var gl=new W(ct);function dy(){return gl}function Ws(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return kn;var n=t[0],r=t.slice(1);return t.length===1&&Oe(n)?Ws.apply(void 0,n):new W(function(i){var s=function(){return i.add(Ws.apply(void 0,r).subscribe(i))};return St(n).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function hy(t,e){return e?new W(function(n){var r=Object.keys(t),i=new ie;return i.add(e.schedule(py,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new W(function(n){for(var r=Object.keys(t),i=0;i<r.length&&!n.closed;i++){var s=r[i];t.hasOwnProperty(s)&&n.next([s,t[s]])}n.complete()})}function py(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,s=t.obj;if(!r.closed)if(n<e.length){var o=e[n];r.next([o,s[o]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:s}))}else r.complete()}function yl(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function Ft(t,e){return function(r){return r.lift(new by(t,e))}}var by=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new gy(e,this.predicate,this.thisArg))},t}(),gy=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.thisArg=i,s.count=0,s}return e.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(i){this.destination.error(i);return}r&&this.destination.next(n)},e}(T);function yy(t,e,n){return[Ft(e,n)(new W(sr(t))),Ft(yl(e,n))(new W(sr(t)))]}function ml(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Oe(t[0]))t=t[0];else return t[0];return xr(t,void 0).lift(new my)}var my=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new vy(e))},t}(),vy=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var i=0;i<r&&!this.hasFirst;i++){var s=n[i],o=_t(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(r)},e}(an);function _y(t,e,n){return t===void 0&&(t=0),new W(function(r){e===void 0&&(e=t,t=0);var i=0,s=t;if(n)return n.schedule(wy,0,{index:i,count:e,start:t,subscriber:r});do{if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}while(!0)})}function wy(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;if(n>=r){i.complete();return}i.next(e),!i.closed&&(t.index=n+1,t.start=e+1,this.schedule(t))}function vl(t,e,n){t===void 0&&(t=0);var r=-1;return Mn(e)?r=Number(e)<1&&1||Number(e):Fe(e)&&(n=e),Fe(n)||(n=Ne),new W(function(i){var s=Mn(t)?t:+t-n.now();return n.schedule(Sy,s,{index:0,period:r,subscriber:i})})}function Sy(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(n===-1)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ey(t,e){return new W(function(n){var r;try{r=t()}catch(a){n.error(a);return}var i;try{i=e(r)}catch(a){n.error(a);return}var s=i?St(i):kn,o=s.subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}function _l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return typeof n=="function"&&t.pop(),xr(t,void 0).lift(new wl(n))}var wl=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Cy(e,this.resultSelector))},t}(),Cy=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.resultSelector=r,s.iterators=[],s.active=0,s.resultSelector=typeof r=="function"?r:void 0,s}return e.prototype._next=function(n){var r=this.iterators;Oe(n)?r.push(new ky(n)):typeof n[jt]=="function"?r.push(new xy(n[jt]())):r.push(new Iy(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0){this.destination.complete();return}this.active=r;for(var i=0;i<r;i++){var s=n[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,i=this.destination,s=0;s<r;s++){var o=n[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<r;s++){var o=n[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(n){var r;try{r=this.resultSelector.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(T),xy=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),ky=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[jt]=function(){return this},t.prototype.next=function(e){var n=this.index++,r=this.array;return n<this.length?{value:r[n],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Iy=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.parent=r,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[jt]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return ce(this.observable,new oe(this))},e}(ae);const My=Object.freeze(Object.defineProperty({__proto__:null,Observable:W,ConnectableObservable:Qu,GroupedObservable:js,observable:Fn,Subject:_e,BehaviorSubject:Zu,ReplaySubject:xo,AsyncSubject:$n,asap:Vr,asapScheduler:tl,async:Ne,asyncScheduler:nl,queue:Yu,queueScheduler:Ku,animationFrame:Ag,animationFrameScheduler:rl,VirtualTimeScheduler:Tg,VirtualAction:il,Scheduler:Fs,Subscription:ie,Subscriber:T,Notification:vt,get NotificationKind(){return Bs},pipe:Ds,noop:ct,identity:Dt,isObservable:Og,ArgumentOutOfRangeError:In,EmptyError:kr,ObjectUnsubscribedError:Tt,UnsubscriptionError:er,TimeoutError:sl,bindCallback:ol,bindNodeCallback:al,combineLatest:Jg,concat:or,defer:Mo,empty:Bn,forkJoin:ry,from:St,fromEvent:dl,fromEventPattern:pl,generate:ay,iif:uy,interval:ly,merge:bl,never:dy,of:ki,onErrorResumeNext:Ws,pairs:hy,partition:yy,race:ml,range:_y,throwError:Co,timer:vl,using:Ey,zip:_l,scheduled:ll,EMPTY:kn,NEVER:gl,config:ze},Symbol.toStringTag,{value:"Module"})),Ii=tn(My);var Mi={};function Sl(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Sl(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ka(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Sl(t))&&(r&&(r+=" "),r+=e);return r}const Ry=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ka,default:Ka},Symbol.toStringTag,{value:"Module"})),Ri=tn(Ry);var wt,K,hs,Ya,Rn=0,El=[],zr=[],ne=X,Xa=ne.__b,ec=ne.__r,tc=ne.diffed,nc=ne.__c,rc=ne.unmount,ic=ne.__;function cn(t,e){ne.__h&&ne.__h(K,t,Rn||e),Rn=0;var n=K.__H||(K.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:zr}),n.__[t]}function Cl(t){return Rn=1,xl(Il,t)}function xl(t,e,n){var r=cn(wt++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Il(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=K,!K.u)){var i=function(a,c,u){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(d){return!!d.__c});if(l.every(function(d){return!d.__N}))return!s||s.call(this,a,c,u);var f=!1;return l.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(f=!0)}}),!(!f&&r.__c.props===a)&&(!s||s.call(this,a,c,u))};K.u=!0;var s=K.shouldComponentUpdate,o=K.componentWillUpdate;K.componentWillUpdate=function(a,c,u){if(this.__e){var l=s;s=void 0,i(a,c,u),s=l}o&&o.call(this,a,c,u)},K.shouldComponentUpdate=i}return r.__N||r.__}function Ay(t,e){var n=cn(wt++,3);!ne.__s&&Ao(n.__H,e)&&(n.__=t,n.i=e,K.__H.__h.push(n))}function kl(t,e){var n=cn(wt++,4);!ne.__s&&Ao(n.__H,e)&&(n.__=t,n.i=e,K.__h.push(n))}function Ty(t){return Rn=5,Ro(function(){return{current:t}},[])}function Oy(t,e,n){Rn=6,kl(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Ro(t,e){var n=cn(wt++,7);return Ao(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Ny(t,e){return Rn=8,Ro(function(){return t},e)}function Ly(t){var e=K.context[t.__c],n=cn(wt++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(K)),e.props.value):t.__}function Py(t,e){ne.useDebugValue&&ne.useDebugValue(e?e(t):t)}function Dy(t){var e=cn(wt++,10),n=Cl();return e.__=t,K.componentDidCatch||(K.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function jy(){var t=cn(wt++,11);if(!t.__){for(var e=K.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function Fy(){for(var t;t=El.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ur),t.__H.__h.forEach(Hs),t.__H.__h=[]}catch(e){t.__H.__h=[],ne.__e(e,t.__v)}}ne.__b=function(t){K=null,Xa&&Xa(t)},ne.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ic&&ic(t,e)},ne.__r=function(t){ec&&ec(t),wt=0;var e=(K=t.__c).__H;e&&(hs===K?(e.__h=[],K.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=zr,n.__N=n.i=void 0})):(e.__h.forEach(Ur),e.__h.forEach(Hs),e.__h=[],wt=0)),hs=K},ne.diffed=function(t){tc&&tc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(El.push(e)!==1&&Ya===ne.requestAnimationFrame||((Ya=ne.requestAnimationFrame)||By)(Fy)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==zr&&(n.__=n.__V),n.i=void 0,n.__V=zr})),hs=K=null},ne.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Ur),n.__h=n.__h.filter(function(r){return!r.__||Hs(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ne.__e(r,n.__v)}}),nc&&nc(t,e)},ne.unmount=function(t){rc&&rc(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Ur(r)}catch(i){e=i}}),n.__H=void 0,e&&ne.__e(e,n.__v))};var sc=typeof requestAnimationFrame=="function";function By(t){var e,n=function(){clearTimeout(r),sc&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);sc&&(e=requestAnimationFrame(n))}function Ur(t){var e=K,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),K=e}function Hs(t){var e=K;t.__c=t.__(),K=e}function Ao(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Il(t,e){return typeof e=="function"?e(t):e}const $y=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Ny,useContext:Ly,useDebugValue:Py,useEffect:Ay,useErrorBoundary:Dy,useId:jy,useImperativeHandle:Oy,useLayoutEffect:kl,useMemo:Ro,useReducer:xl,useRef:Ty,useState:Cl},Symbol.toStringTag,{value:"Module"})),Ir=tn($y);var pt={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.CloseIcon=void 0;const oc=Be;function Wy(t){return(0,oc.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,oc.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Ai.CloseIcon=Wy;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.QRCodeIcon=void 0;const ot=Be;function Hy(t){return(0,ot.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ot.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,ot.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,ot.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,ot.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,ot.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,ot.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,ot.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,ot.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,ot.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Ti.QRCodeIcon=Hy;var No={};Object.defineProperty(No,"__esModule",{value:!0});const Vy=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;No.default=Vy;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.StatusDotIcon=void 0;const ac=Be;function zy(t){return(0,ac.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ac.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Oi.StatusDotIcon=zy;var Ni={};function Ml(t){this.mode=De.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var r=[],i=this.data.charCodeAt(e);i>65536?(r[0]=240|(i&1835008)>>>18,r[1]=128|(i&258048)>>>12,r[2]=128|(i&4032)>>>6,r[3]=128|i&63):i>2048?(r[0]=224|(i&61440)>>>12,r[1]=128|(i&4032)>>>6,r[2]=128|i&63):i>128?(r[0]=192|(i&1984)>>>6,r[1]=128|i&63):r[0]=i,this.parsedData.push(r)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ml.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}};function bt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}bt.prototype={addData:function(t){var e=new Ml(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=bt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=te.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(r.beginFill(0,100),r.moveTo(c,o),r.lineTo(c+i,o),r.lineTo(c+i,o+i),r.lineTo(c,o+i),r.endFill())}return r},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=te.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=te.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=te.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=te.getMask(e,r,o-a);u&&(c=!c),this.modules[r][o-a]=c,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}}};bt.PAD0=236;bt.PAD1=17;bt.createData=function(t,e,n){for(var r=ft.getRSBlocks(t,e),i=new Rl,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),te.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(bt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(bt.PAD1,8);return bt.createBytes(i,r)};bt.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;r=Math.max(r,c),i=Math.max(i,u),s[a]=new Array(c);for(var l=0;l<s[a].length;l++)s[a][l]=255&t.buffer[l+n];n+=c;var f=te.getErrorCorrectPolynomial(u),d=new mn(s[a],f.getLength()-1),h=d.mod(f);o[a]=new Array(f.getLength()-1);for(var l=0;l<o[a].length;l++){var _=l+h.getLength()-o[a].length;o[a][l]=_>=0?h.get(_):0}}for(var x=0,l=0;l<e.length;l++)x+=e[l].totalCount;for(var w=new Array(x),C=0,l=0;l<r;l++)for(var a=0;a<e.length;a++)l<s[a].length&&(w[C++]=s[a][l]);for(var l=0;l<i;l++)for(var a=0;a<e.length;a++)l<o[a].length&&(w[C++]=o[a][l]);return w};var De={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Nt={L:1,M:0,Q:3,H:2},kt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},te={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;te.getBCHDigit(e)-te.getBCHDigit(te.G15)>=0;)e^=te.G15<<te.getBCHDigit(e)-te.getBCHDigit(te.G15);return(t<<10|e)^te.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;te.getBCHDigit(e)-te.getBCHDigit(te.G18)>=0;)e^=te.G18<<te.getBCHDigit(e)-te.getBCHDigit(te.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return te.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case kt.PATTERN000:return(e+n)%2==0;case kt.PATTERN001:return e%2==0;case kt.PATTERN010:return n%3==0;case kt.PATTERN011:return(e+n)%3==0;case kt.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case kt.PATTERN101:return e*n%2+e*n%3==0;case kt.PATTERN110:return(e*n%2+e*n%3)%2==0;case kt.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new mn([1],0),n=0;n<t;n++)e=e.multiply(new mn([1,ve.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case De.MODE_NUMBER:return 10;case De.MODE_ALPHA_NUM:return 9;case De.MODE_8BIT_BYTE:return 8;case De.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case De.MODE_NUMBER:return 12;case De.MODE_ALPHA_NUM:return 11;case De.MODE_8BIT_BYTE:return 16;case De.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case De.MODE_NUMBER:return 14;case De.MODE_ALPHA_NUM:return 13;case De.MODE_8BIT_BYTE:return 16;case De.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(r+a,i+c)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var u=0;t.isDark(r,i)&&u++,t.isDark(r+1,i)&&u++,t.isDark(r,i+1)&&u++,t.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var l=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&l++;var f=Math.abs(100*l/e/e-50)/5;return n+=f*10,n}},ve={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ve.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ve.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Se=0;Se<8;Se++)ve.EXP_TABLE[Se]=1<<Se;for(var Se=8;Se<256;Se++)ve.EXP_TABLE[Se]=ve.EXP_TABLE[Se-4]^ve.EXP_TABLE[Se-5]^ve.EXP_TABLE[Se-6]^ve.EXP_TABLE[Se-8];for(var Se=0;Se<255;Se++)ve.LOG_TABLE[ve.EXP_TABLE[Se]]=Se;function mn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}mn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=ve.gexp(ve.glog(this.get(n))+ve.glog(t.get(r)));return new mn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ve.glog(this.get(0))-ve.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=ve.gexp(ve.glog(t.get(r))+e);return new mn(n,0).mod(t)}};function ft(t,e){this.totalCount=t,this.dataCount=e}ft.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ft.getRSBlocks=function(t,e){var n=ft.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=[],s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],c=n[s*3+2],u=0;u<o;u++)i.push(new ft(a,c));return i};ft.getRsBlockTable=function(t,e){switch(e){case Nt.L:return ft.RS_BLOCK_TABLE[(t-1)*4+0];case Nt.M:return ft.RS_BLOCK_TABLE[(t-1)*4+1];case Nt.Q:return ft.RS_BLOCK_TABLE[(t-1)*4+2];case Nt.H:return ft.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Rl(){this.buffer=[],this.length=0}Rl.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ps=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Al(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function n(c){switch(c){case"L":return Nt.L;case"M":return Nt.M;case"Q":return Nt.Q;case"H":return Nt.H;default:throw new Error("Unknwon error correction level: "+c)}}function r(c,u){for(var l=i(c),f=1,d=0,h=0,_=ps.length;h<=_;h++){var x=ps[h];if(!x)throw new Error("Content too long: expected "+d+" but got "+l);switch(u){case"L":d=x[0];break;case"M":d=x[1];break;case"Q":d=x[2];break;case"H":d=x[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(l<=d)break;f++}if(f>ps.length)throw new Error("Content too long");return f}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=r(s,this.options.ecl),a=n(this.options.ecl);this.qrcode=new bt(o,a),this.qrcode.addData(s),this.qrcode.make()}Al.prototype.svg=function(t){var e=this.options||{},n=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var r=typeof e.pretty<"u"?!!e.pretty:!0,i=r?"  ":"",s=r?`\r
`:"",o=e.width,a=e.height,c=n.length,u=o/(c+2*e.padding),l=a/(c+2*e.padding),f=typeof e.join<"u"?!!e.join:!1,d=typeof e.swap<"u"?!!e.swap:!1,h=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,_=typeof e.predefined<"u"?!!e.predefined:!1,x=_?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",w=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,C="",S="",v=0;v<c;v++)for(var M=0;M<c;M++){var k=n[M][v];if(k){var N=M*u+e.padding*u,V=v*l+e.padding*l;if(d){var se=N;N=V,V=se}if(f){var O=u+N,B=l+V;N=Number.isInteger(N)?Number(N):N.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),O=Number.isInteger(O)?Number(O):O.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),S+="M"+N+","+V+" V"+B+" H"+O+" V"+V+" H"+N+" Z "}else _?C+=i+'<use x="'+N.toString()+'" y="'+V.toString()+'" href="#qrmodule" />'+s:C+=i+'<rect x="'+N.toString()+'" y="'+V.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}f&&(C=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+S+'" />');let he="";if(this.options.image!==void 0&&this.options.image.svg){const ue=o*this.options.image.width/100,Ce=a*this.options.image.height/100,Re=o/2-ue/2,j=a/2-Ce/2;he+=`<svg x="${Re}" y="${j}" width="${ue}" height="${Ce}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,he+=this.options.image.svg+s,he+="</svg>"}var J="";switch(t.container){case"svg":h&&(J+='<?xml version="1.0" standalone="yes"?>'+s),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,J+=x+w+C,J+=he,J+="</svg>";break;case"svg-viewbox":h&&(J+='<?xml version="1.0" standalone="yes"?>'+s),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,J+=x+w+C,J+=he,J+="</svg>";break;case"g":J+='<g width="'+o+'" height="'+a+'">'+s,J+=x+w+C,J+=he,J+="</g>";break;default:J+=(x+w+C+he).replace(/^\s+/,"");break}return J};var Uy=Al,qy=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.QRCode=void 0;const Jy=Be,cc=Ir,Gy=qy(Uy),Qy=t=>{const[e,n]=(0,cc.useState)("");return(0,cc.useEffect)(()=>{var r,i;const s=new Gy.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(r=t.width)!==null&&r!==void 0?r:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=q.Buffer.from(s.svg(),"utf8").toString("base64");n(`data:image/svg+xml;base64,${o}`)}),e?(0,Jy.h)("img",{src:e,alt:"QR Code"}):null};Ni.QRCode=Qy;var Li={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Zy=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});Li.Spinner=void 0;const Fr=Be,Ky=Zy(Po),Yy=t=>{var e;const n=(e=t.size)!==null&&e!==void 0?e:64,r=t.color||"#000";return(0,Fr.h)("div",{class:"-cbwsdk-spinner"},(0,Fr.h)("style",null,Ky.default),(0,Fr.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:n,height:n}},(0,Fr.h)("circle",{style:{cx:50,cy:50,r:45,stroke:r}})))};Li.Spinner=Yy;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Wn=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.CoinbaseAppSteps=pt.CoinbaseWalletSteps=pt.ConnectItem=pt.ConnectContent=void 0;const qe=Wn(Ri),L=Be,uc=Ir,Xy=R,em=Nn,tm=Ai,nm=Wn(To),rm=Wn(Oo),Tl=Ti,im=Wn(No),sm=Wn(Lo),om=Oi,am=Ni,cm=Li,um=Wn(Do),lc={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:rm.default,steps:Nl},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:nm.default,steps:Ll}},lm=t=>{switch(t){case"coinbase-app":return im.default;case"coinbase-wallet-app":default:return sm.default}},Vs=t=>t==="light"?"#FFFFFF":"#0A0B0D";function fm(t){const{theme:e}=t,[n,r]=(0,uc.useState)("coinbase-wallet-app"),i=(0,uc.useCallback)(u=>{r(u)},[]),s=(0,Xy.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=lc[n];if(!n)return null;const a=o.steps,c=n==="coinbase-app";return(0,L.h)("div",{"data-testid":"connect-content",class:(0,qe.default)("-cbwsdk-connect-content",e)},(0,L.h)("style",null,um.default),(0,L.h)("div",{class:"-cbwsdk-connect-content-header"},(0,L.h)("h2",{class:(0,qe.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,L.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,L.h)(tm.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,L.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,L.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,L.h)("div",null,Object.entries(lc).map(([u,l])=>(0,L.h)(Ol,{key:u,title:l.title,description:l.description,icon:l.icon,selected:n===u,onClick:()=>i(u),theme:e}))),c&&(0,L.h)("div",{class:(0,qe.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,L.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,L.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,L.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,L.h)(am.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:lm(n),width:25,height:25}}),(0,L.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:em.LIB_VERSION}),(0,L.h)("input",{type:"hidden",value:s})),(0,L.h)(a,{theme:e}),!t.isConnected&&(0,L.h)("div",{"data-testid":"connecting-spinner",class:(0,qe.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,L.h)(cm.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,L.h)("p",null,"Connecting...")))))}pt.ConnectContent=fm;function Ol({title:t,description:e,icon:n,selected:r,theme:i,onClick:s}){return(0,L.h)("div",{onClick:s,class:(0,qe.default)("-cbwsdk-connect-item",i,{selected:r})},(0,L.h)("div",null,(0,L.h)("img",{src:n,alt:t})),(0,L.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,L.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,L.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}pt.ConnectItem=Ol;function Nl({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,qe.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,L.h)("li",{class:(0,qe.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"Scan")," "),(0,L.h)("span",{class:(0,qe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(Tl.QRCodeIcon,{fill:Vs(t)})))))}pt.CoinbaseWalletSteps=Nl;function Ll({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,qe.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,L.h)("li",{class:(0,qe.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"More")),(0,L.h)("span",{class:(0,qe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(om.StatusDotIcon,{fill:Vs(t)})),(0,L.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,L.h)("strong",null,"Scan")),(0,L.h)("span",{class:(0,qe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(Tl.QRCodeIcon,{fill:Vs(t)})))))}pt.CoinbaseAppSteps=Ll;var Pi={},Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.ArrowLeftIcon=void 0;const fc=Be;function dm(t){return(0,fc.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,fc.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Di.ArrowLeftIcon=dm;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.LaptopIcon=void 0;const bs=Be;function hm(t){return(0,bs.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,bs.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,bs.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ji.LaptopIcon=hm;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.SafeIcon=void 0;const dc=Be;function pm(t){return(0,dc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,dc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Fi.SafeIcon=pm;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Pl=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.TryExtensionContent=void 0;const Wt=Pl(Ri),pe=Be,gs=Ir,bm=Di,gm=ji,ym=Fi,mm=Pl(jo);function vm({theme:t}){const[e,n]=(0,gs.useState)(!1),r=(0,gs.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,gs.useCallback)(()=>{e?window.location.reload():(r(),n(!0))},[r,e]);return(0,pe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension",t)},(0,pe.h)("style",null,mm.default),(0,pe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,pe.h)("h3",{class:(0,Wt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,pe.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,pe.h)("button",{class:(0,Wt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,pe.h)("div",null,!e&&(0,pe.h)(bm.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,pe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,pe.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,pe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,pe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,pe.h)("span",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,pe.h)(gm.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,pe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,pe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,pe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,pe.h)("span",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,pe.h)(ym.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,pe.h)("div",{class:(0,Wt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Pi.TryExtensionContent=vm;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Dl=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.ConnectDialog=void 0;const ys=Dl(Ri),Ht=Be,ms=Ir,_m=pt,wm=Pi,Sm=Dl(Fo),Em=t=>{const{isOpen:e,darkMode:n}=t,[r,i]=(0,ms.useState)(!e),[s,o]=(0,ms.useState)(!e);(0,ms.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=n?"dark":"light";return(0,Ht.h)("div",{class:(0,ys.default)("-cbwsdk-connect-dialog-container",r&&"-cbwsdk-connect-dialog-container-hidden")},(0,Ht.h)("style",null,Sm.default),(0,Ht.h)("div",{class:(0,ys.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Ht.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Ht.h)("div",{class:(0,ys.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Ht.h)(_m.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Ht.h)(wm.TryExtensionContent,{theme:a}))))};Mi.ConnectDialog=Em;Object.defineProperty(Ci,"__esModule",{value:!0});Ci.LinkFlow=void 0;const vs=Be,hc=Ii,Cm=Mi;class xm{constructor(e){this.extensionUI$=new hc.BehaviorSubject({}),this.subscriptions=new hc.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(n=>{this.isConnected!==n&&(this.isConnected=n,this.render())})),this.subscriptions.add(this.chainId$.subscribe(n=>{this.chainId!==n&&(this.chainId=n,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,vs.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,vs.render)((0,vs.h)(Cm.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ci.LinkFlow=xm;var jl={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=A&&A.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const n=e(Ri),r=Be,i=Ir,s=e(Bo),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(f){switch(f){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const h=this.nextItemKey++;return this.items.set(h,d),this.render(),()=>{this.items.delete(h),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,r.render)((0,r.h)("div",null,(0,r.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,h])=>(0,r.h)(t.SnackbarInstance,Object.assign({},h,{key:d}))))),this.root)}}t.Snackbar=c;const u=f=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,r.h)("style",null,s.default),(0,r.h)("div",{class:"-cbwsdk-snackbar"},f.children));t.SnackbarContainer=u;const l=({autoExpand:f,message:d,menuItems:h,appSrc:_})=>{const[x,w]=(0,i.useState)(!0),[C,S]=(0,i.useState)(f!=null?f:!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{S(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const v=()=>{S(!C)};return(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",x&&"-cbwsdk-snackbar-instance-hidden",C&&"-cbwsdk-snackbar-instance-expanded")},(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:v},(0,r.h)("img",{src:a(_),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,r.h)("div",{class:"-gear-container"},!C&&(0,r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,r.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),h&&h.length>0&&(0,r.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},h.map((M,k)=>(0,r.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:k},(0,r.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,r.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,r.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};t.SnackbarInstance=l})(jl);var Bi={},$o={};Object.defineProperty($o,"__esModule",{value:!0});$o.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var km=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.injectCssReset=void 0;const Im=km($o);function Mm(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Im.default)),document.documentElement.appendChild(t)}Bi.injectCssReset=Mm;Object.defineProperty(Ei,"__esModule",{value:!0});Ei.WalletSDKUI=void 0;const Rm=Ci,Am=jl,Tm=Bi;class Om{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Am.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Rm.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.linkFlow.attach(n),this.snackbar.attach(n),this.attached=!0,(0,Tm.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Ei.WalletSDKUI=Om;var $i={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});var pn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(pn||(pn={}));function Fl(t,e,n){if(!n||typeof n.value!==pn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:pn.boolTrue,get:function(){var r=n.value.bind(this);return Object.defineProperty(this,e,{value:r,configurable:pn.boolTrue,writable:pn.boolTrue}),r}}}Wi.bind=Fl;Wi.default=Fl;function Bl(t){return function(n){return n.lift(new Nm(t))}}var Nm=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Lm(e,this.durationSelector))},t}(),Lm=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){if(this.value=n,this.hasValue=!0,!this.throttled){var r=void 0;try{var i=this.durationSelector;r=i(n)}catch(o){return this.destination.error(o)}var s=ce(r,new oe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var n=this,r=n.value,i=n.hasValue,s=n.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ae);function Pm(t,e){return e===void 0&&(e=Ne),Bl(function(){return vl(t,e)})}function Dm(t){return function(n){return n.lift(new jm(t))}}var jm=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,n){return n.subscribe(new Fm(e,this.closingNotifier))},t}(),Fm=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.buffer=[],i.add(ce(r,new oe(i))),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype.notifyNext=function(){var n=this.buffer;this.buffer=[],this.destination.next(n)},e}(ae);function Bm(t,e){return e===void 0&&(e=null),function(r){return r.lift(new $m(t,e))}}var $m=function(){function t(e,n){this.bufferSize=e,this.startBufferEvery=n,!n||e===n?this.subscriberClass=Wm:this.subscriberClass=Hm}return t.prototype.call=function(e,n){return n.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Wm=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.bufferSize=r,i.buffer=[],i}return e.prototype._next=function(n){var r=this.buffer;r.push(n),r.length==this.bufferSize&&(this.destination.next(r),this.buffer=[])},e.prototype._complete=function(){var n=this.buffer;n.length>0&&this.destination.next(n),t.prototype._complete.call(this)},e}(T),Hm=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.bufferSize=r,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(n){var r=this,i=r.bufferSize,s=r.startBufferEvery,o=r.buffers,a=r.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(n),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var n=this,r=n.buffers,i=n.destination;r.length>0;){var s=r.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(T);function Vm(t){var e=arguments.length,n=Ne;Fe(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new zm(t,r,i,n))}}var zm=function(){function t(e,n,r,i){this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new qm(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Um=function(){function t(){this.buffer=[]}return t}(),qm=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.bufferTimeSpan=r,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:r};a.add(c.closeAction=o.schedule(pc,r,u))}else{var l={subscriber:a,context:c},f={bufferTimeSpan:r,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule($l,r,l)),a.add(o.schedule(Jm,i,f))}return a}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s,o=0;o<i;o++){var a=r[o],c=a.buffer;c.push(n),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this,r=n.contexts,i=n.destination;r.length>0;){var s=r.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(n){this.closeContext(n);var r=n.closeAction;if(r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:n,bufferTimeSpan:i};this.add(n.closeAction=this.scheduler.schedule(pc,i,s))}},e.prototype.openContext=function(){var n=new Um;return this.contexts.push(n),n},e.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts,i=r?r.indexOf(n):-1;i>=0&&r.splice(r.indexOf(n),1)},e}(T);function pc(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Jm(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,s=r.openContext(),o=this;r.closed||(r.add(s.closeAction=i.schedule($l,n,{subscriber:r,context:s})),o.schedule(t,e))}function $l(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function Gm(t,e){return function(r){return r.lift(new Qm(t,e))}}var Qm=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new Zm(e,this.openings,this.closingSelector))},t}(),Zm=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.closingSelector=i,s.contexts=[],s.add(_t(s,r)),s}return e.prototype._next=function(n){for(var r=this.contexts,i=r.length,s=0;s<i;s++)r[s].buffer.push(n)},e.prototype._error=function(n){for(var r=this.contexts;r.length>0;){var i=r.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this.contexts;n.length>0;){var r=n.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(n,r){n?this.closeBuffer(n):this.openBuffer(r)},e.prototype.notifyComplete=function(n){this.closeBuffer(n.context)},e.prototype.openBuffer=function(n){try{var r=this.closingSelector,i=r.call(this,n);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(n){var r=this.contexts;if(r&&n){var i=n.buffer,s=n.subscription;this.destination.next(i),r.splice(r.indexOf(n),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(n){var r=this.contexts,i=[],s=new ie,o={buffer:i,subscription:s};r.push(o);var a=_t(this,n,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(an);function Km(t){return function(e){return e.lift(new Ym(t))}}var Ym=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Xm(e,this.closingSelector))},t}(),Xm=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.closingSelector=r,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(n){this.buffer.push(n)},e.prototype._complete=function(){var n=this.buffer;n&&this.destination.next(n),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var n=this.closingSubscription;n&&(this.remove(n),n.unsubscribe());var r=this.buffer;this.buffer&&this.destination.next(r),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}n=new ie,this.closingSubscription=n,this.add(n),this.subscribing=!0,n.add(ce(i,new oe(this))),this.subscribing=!1},e}(ae);function ev(t){return function(n){var r=new tv(t),i=n.lift(r);return r.caught=i}}var tv=function(){function t(e){this.selector=e}return t.prototype.call=function(e,n){return n.subscribe(new nv(e,this.selector,this.caught))},t}(),nv=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.selector=r,s.caught=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new oe(this);this.add(i);var s=ce(r,i);s!==i&&this.add(s)}},e}(ae);function rv(t){return function(e){return e.lift(new ko(t))}}function iv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return typeof t[t.length-1]=="function"&&(n=t.pop()),t.length===1&&Oe(t[0])&&(t=t[0].slice()),function(r){return r.lift.call(St([r].concat(t)),new ko(n))}}function sv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(or.apply(void 0,[n].concat(t)))}}function Wl(t,e){return Xt(t,e,1)}function ov(t,e){return Wl(function(){return t},e)}function av(t){return function(e){return e.lift(new cv(t,e))}}var cv=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new uv(e,this.predicate,this.source))},t}(),uv=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(n){this.predicate?this._tryPredicate(n):this.count++},e.prototype._tryPredicate=function(n){var r;try{r=this.predicate(n,this.index++,this.source)}catch(i){this.destination.error(i);return}r&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(T);function lv(t){return function(e){return e.lift(new fv(t))}}var fv=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new dv(e,this.durationSelector))},t}(),dv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.durationSelector=r,i.hasValue=!1,i}return e.prototype._next=function(n){try{var r=this.durationSelector.call(this,n);r&&this._tryNext(n,r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(n,r){var i=this.durationSubscription;this.value=n,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=ce(r,new oe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var n=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,n)}},e}(ae);function hv(t,e){return e===void 0&&(e=Ne),function(n){return n.lift(new pv(t,e))}}var pv=function(){function t(e,n){this.dueTime=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new bv(e,this.dueTime,this.scheduler))},t}(),bv=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.dueTime=r,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(gv,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},e.prototype.clearDebounce=function(){var n=this.debouncedSubscription;n!==null&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},e}(T);function gv(t){t.debouncedNext()}function Mr(t){return t===void 0&&(t=null),function(e){return e.lift(new yv(t))}}var yv=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,n){return n.subscribe(new mv(e,this.defaultValue))},t}(),mv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.defaultValue=r,i.isEmpty=!0,i}return e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(T);function Hl(t){return t instanceof Date&&!isNaN(+t)}function vv(t,e){e===void 0&&(e=Ne);var n=Hl(t),r=n?+t-e.now():Math.abs(t);return function(i){return i.lift(new _v(r,e))}}var _v=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new wv(e,this.delay,this.scheduler))},t}(),wv=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.delay=r,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(n){for(var r=n.source,i=r.queue,s=n.scheduler,o=n.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(n,a)}else this.unsubscribe(),r.active=!1},e.prototype._schedule=function(n){this.active=!0;var r=this.destination;r.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler,i=new Sv(r.now()+this.delay,n);this.queue.push(i),this.active===!1&&this._schedule(r)}},e.prototype._next=function(n){this.scheduleNotification(vt.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(vt.createComplete()),this.unsubscribe()},e}(T),Sv=function(){function t(e,n){this.time=e,this.notification=n}return t}();function Ev(t,e){return e?function(n){return new xv(n,e).lift(new bc(t))}:function(n){return n.lift(new bc(t))}}var bc=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Cv(e,this.delayDurationSelector))},t}(),Cv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.delayDurationSelector=r,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(n,r,i,s,o){this.destination.next(n),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(n,r){this._error(n)},e.prototype.notifyComplete=function(n){var r=this.removeSubscription(n);r&&this.destination.next(r),this.tryComplete()},e.prototype._next=function(n){var r=this.index++;try{var i=this.delayDurationSelector(n,r);i&&this.tryDelay(i,n)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(n){n.unsubscribe();var r=this.delayNotifierSubscriptions.indexOf(n);return r!==-1&&this.delayNotifierSubscriptions.splice(r,1),n.outerValue},e.prototype.tryDelay=function(n,r){var i=_t(this,n,r);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(an),xv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.source=n,i.subscriptionDelay=r,i}return e.prototype._subscribe=function(n){this.subscriptionDelay.subscribe(new kv(n,this.source))},e}(W),kv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this)||this;return i.parent=n,i.source=r,i.sourceSubscribed=!1,i}return e.prototype._next=function(n){this.subscribeToSource()},e.prototype._error=function(n){this.unsubscribe(),this.parent.error(n)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(T);function Iv(){return function(e){return e.lift(new Mv)}}var Mv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Rv(e))},t}(),Rv=function(t){m.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){n.observe(this.destination)},e}(T);function Av(t,e){return function(n){return n.lift(new Tv(t,e))}}var Tv=function(){function t(e,n){this.keySelector=e,this.flushes=n}return t.prototype.call=function(e,n){return n.subscribe(new Ov(e,this.keySelector,this.flushes))},t}(),Ov=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=r,s.values=new Set,i&&s.add(ce(i,new oe(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(n){this._error(n)},e.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},e.prototype._useKeySelector=function(n){var r,i=this.destination;try{r=this.keySelector(n)}catch(s){i.error(s);return}this._finalizeNext(r,n)},e.prototype._finalizeNext=function(n,r){var i=this.values;i.has(n)||(i.add(n),this.destination.next(r))},e}(ae);function Vl(t,e){return function(n){return n.lift(new Nv(t,e))}}var Nv=function(){function t(e,n){this.compare=e,this.keySelector=n}return t.prototype.call=function(e,n){return n.subscribe(new Lv(e,this.compare,this.keySelector))},t}(),Lv=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.keySelector=i,s.hasKey=!1,typeof r=="function"&&(s.compare=r),s}return e.prototype.compare=function(n,r){return n===r},e.prototype._next=function(n){var r;try{var i=this.keySelector;r=i?i(n):n}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,r)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))},e}(T);function Pv(t,e){return Vl(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}function Hi(t){return t===void 0&&(t=Fv),function(e){return e.lift(new Dv(t))}}var Dv=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,n){return n.subscribe(new jv(e,this.errorFactory))},t}(),jv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.errorFactory=r,i.hasValue=!1,i}return e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},e}(T);function Fv(){return new kr}function Wo(t){return function(e){return t===0?Bn():e.lift(new Bv(t))}}var Bv=function(){function t(e){if(this.total=e,this.total<0)throw new In}return t.prototype.call=function(e,n){return n.subscribe(new $v(e,this.total))},t}(),$v=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){var r=this.total,i=++this.count;i<=r&&(this.destination.next(n),i===r&&(this.destination.complete(),this.unsubscribe()))},e}(T);function Wv(t,e){if(t<0)throw new In;var n=arguments.length>=2;return function(r){return r.pipe(Ft(function(i,s){return s===t}),Wo(1),n?Mr(e):Hi(function(){return new In}))}}function Hv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return or(n,ki.apply(void 0,t))}}function Vv(t,e){return function(n){return n.lift(new zv(t,e,n))}}var zv=function(){function t(e,n,r){this.predicate=e,this.thisArg=n,this.source=r}return t.prototype.call=function(e,n){return n.subscribe(new Uv(e,this.predicate,this.thisArg,this.source))},t}(),Uv=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(n){this.destination.next(n),this.destination.complete()},e.prototype._next=function(n){var r=!1;try{r=this.predicate.call(this.thisArg,n,this.index++,this.source)}catch(i){this.destination.error(i);return}r||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(T);function qv(){return function(t){return t.lift(new Jv)}}var Jv=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new Gv(e))},t}(),Gv=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return e.prototype._next=function(n){this.hasSubscription||(this.hasSubscription=!0,this.add(ce(n,new oe(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ae);function zl(t,e){return e?function(n){return n.pipe(zl(function(r,i){return St(t(r,i)).pipe(Qe(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new Qv(t))}}var Qv=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new Zv(e,this.project))},t}(),Zv=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(n){this.hasSubscription||this.tryNext(n)},e.prototype.tryNext=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(r)},e.prototype._innerSub=function(n){var r=new oe(this),i=this.destination;i.add(r);var s=ce(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ae);function Kv(t,e,n){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new Yv(t,e,n))}}var Yv=function(){function t(e,n,r){this.project=e,this.concurrent=n,this.scheduler=r}return t.prototype.call=function(e,n){return n.subscribe(new Xv(e,this.project,this.concurrent,this.scheduler))},t}(),Xv=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.project=r,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(n){var r=n.subscriber,i=n.result,s=n.value,o=n.index;r.subscribeToProjection(i,s,o)},e.prototype._next=function(n){var r=this.destination;if(r.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){r.next(n);try{var s=this.project,o=s(n,i);if(!this.scheduler)this.subscribeToProjection(o,n,i);else{var a={subscriber:this,result:o,value:n,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){r.error(u)}}else this.buffer.push(n)},e.prototype.subscribeToProjection=function(n,r,i){this.active++;var s=this.destination;s.add(ce(n,new oe(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this._next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n&&n.length>0&&this._next(n.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ae);function e_(t){return function(e){return e.lift(new t_(t))}}var t_=function(){function t(e){this.callback=e}return t.prototype.call=function(e,n){return n.subscribe(new n_(e,this.callback))},t}(),n_=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.add(new ie(r)),i}return e}(T);function r_(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(n){return n.lift(new Ul(t,n,!1,e))}}var Ul=function(){function t(e,n,r,i){this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i}return t.prototype.call=function(e,n){return n.subscribe(new i_(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),i_=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.predicate=r,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete(),this.unsubscribe()},e.prototype._next=function(n){var r=this,i=r.predicate,s=r.thisArg,o=this.index++;try{var a=i.call(s||this,n,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:n)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(T);function s_(t,e){return function(n){return n.lift(new Ul(t,n,!0,e))}}function o_(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ft(function(i,s){return t(i,s,r)}):Dt,Wo(1),n?Mr(e):Hi(function(){return new kr}))}}function a_(){return function(e){return e.lift(new c_)}}var c_=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new u_(e))},t}(),u_=function(t){m.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(n){},e}(T);function l_(){return function(t){return t.lift(new f_)}}var f_=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new d_(e))},t}(),d_=function(t){m.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype.notifyComplete=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype._next=function(n){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(T);function Xr(t){return function(n){return t===0?Bn():n.lift(new h_(t))}}var h_=function(){function t(e){if(this.total=e,this.total<0)throw new In}return t.prototype.call=function(e,n){return n.subscribe(new p_(e,this.total))},t}(),p_=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.ring=new Array,i.count=0,i}return e.prototype._next=function(n){var r=this.ring,i=this.total,s=this.count++;if(r.length<i)r.push(n);else{var o=s%i;r[o]=n}},e.prototype._complete=function(){var n=this.destination,r=this.count;if(r>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=r++%i;n.next(s[a])}n.complete()},e}(T);function b_(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ft(function(i,s){return t(i,s,r)}):Dt,Xr(1),n?Mr(e):Hi(function(){return new kr}))}}function g_(t){return function(e){return e.lift(new y_(t))}}var y_=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new m_(e,this.value))},t}(),m_=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.value=r,i}return e.prototype._next=function(n){this.destination.next(this.value)},e}(T);function v_(){return function(e){return e.lift(new __)}}var __=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new w_(e))},t}(),w_=function(t){m.exports.__extends(e,t);function e(n){return t.call(this,n)||this}return e.prototype._next=function(n){this.destination.next(vt.createNext(n))},e.prototype._error=function(n){var r=this.destination;r.next(vt.createError(n)),r.complete()},e.prototype._complete=function(){var n=this.destination;n.next(vt.createComplete()),n.complete()},e}(T);function ei(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new S_(t,e,n))}}var S_=function(){function t(e,n,r){r===void 0&&(r=!1),this.accumulator=e,this.seed=n,this.hasSeed=r}return t.prototype.call=function(e,n){return n.subscribe(new E_(e,this.accumulator,this.seed,this.hasSeed))},t}(),E_=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(!this.hasSeed)this.seed=n,this.destination.next(n);else return this._tryNext(n)},e.prototype._tryNext=function(n){var r=this.index++,i;try{i=this.accumulator(this.seed,n,r)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(T);function Vi(t,e){return arguments.length>=2?function(r){return Ds(ei(t,e),Xr(1),Mr(e))(r)}:function(r){return Ds(ei(function(i,s,o){return t(i,s,o+1)}),Xr(1))(r)}}function C_(t){var e=typeof t=="function"?function(n,r){return t(n,r)>0?n:r}:function(n,r){return n>r?n:r};return Vi(e)}function x_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(bl.apply(void 0,[n].concat(t)))}}function k_(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?Xt(function(){return t},e,n):(typeof e=="number"&&(n=e),Xt(function(){return t},n))}function I_(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new M_(t,e,n))}}var M_=function(){function t(e,n,r){this.accumulator=e,this.seed=n,this.concurrent=r}return t.prototype.call=function(e,n){return n.subscribe(new R_(e,this.accumulator,this.seed,this.concurrent))},t}(),R_=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.accumulator=r,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(n){if(this.active<this.concurrent){var r=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,n,r)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(n)},e.prototype._innerSub=function(n){var r=new oe(this),i=this.destination;i.add(r);var s=ce(n,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(n){var r=this.destination;this.acc=n,this.hasValue=!0,r.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ae);function A_(t){var e=typeof t=="function"?function(n,r){return t(n,r)<0?n:r}:function(n,r){return n<r?n:r};return Vi(e)}function en(t,e){return function(r){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return r.lift(new T_(i,e));var s=Object.create(r,cg);return s.source=r,s.subjectFactory=i,s}}var T_=function(){function t(e,n){this.subjectFactory=e,this.selector=n}return t.prototype.call=function(e,n){var r=this.selector,i=this.subjectFactory(),s=r(i).subscribe(e);return s.add(n.subscribe(i)),s},t}();function O_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Oe(t[0])&&(t=t[0]),function(n){return n.lift(new N_(t))}}var N_=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,n){return n.subscribe(new L_(e,this.nextSources))},t}(),L_=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.nextSources=r,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(n){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var n=this.nextSources.shift();if(n){var r=new oe(this),i=this.destination;i.add(r);var s=ce(n,r);s!==r&&i.add(s)}else this.destination.complete()},e}(ae);function P_(){return function(t){return t.lift(new D_)}}var D_=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new j_(e))},t}(),j_=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.hasPrev=!1,r}return e.prototype._next=function(n){var r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)},e}(T);function F_(t,e){return function(n){return[Ft(t,e)(n),Ft(yl(t,e))(n)]}}function B_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(n===0)throw new Error("list of properties cannot be empty.");return function(r){return Qe($_(t,n))(r)}}function $_(t,e){var n=function(r){for(var i=r,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return n}function W_(t){return t?en(function(){return new _e},t):en(new _e)}function H_(t){return function(e){return en(new Zu(t))(e)}}function V_(){return function(t){return en(new $n)(t)}}function z_(t,e,n,r){n&&typeof n!="function"&&(r=n);var i=typeof n=="function"?n:void 0,s=new xo(t,e,r);return function(o){return en(function(){return s},i)(o)}}function U_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return t.length===1&&Oe(t[0])&&(t=t[0]),r.lift.call(ml.apply(void 0,[r].concat(t)))}}function q_(t){return t===void 0&&(t=-1),function(e){return t===0?Bn():t<0?e.lift(new gc(-1,e)):e.lift(new gc(t-1,e))}}var gc=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new J_(e,this.count,this.source))},t}(),J_=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(T);function G_(t){return function(e){return e.lift(new Q_(t))}}var Q_=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new Z_(e,this.notifier,n))},t}(),Z_=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var n=this,r=n.notifications,i=n.retriesSubscription;r&&(r.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var n=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=n,this},e.prototype.subscribeToRetries=function(){this.notifications=new _e;var n;try{var r=this.notifier;n=r(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=ce(n,new oe(this))},e}(ae);function K_(t){return t===void 0&&(t=-1),function(e){return e.lift(new Y_(t,e))}}var Y_=function(){function t(e,n){this.count=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new X_(e,this.count,this.source))},t}(),X_=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.count=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this,i=r.source,s=r.count;if(s===0)return t.prototype.error.call(this,n);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(T);function e1(t){return function(e){return e.lift(new t1(t,e))}}var t1=function(){function t(e,n){this.notifier=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new n1(e,this.notifier,this.source))},t}(),n1=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.notifier=r,s.source=i,s}return e.prototype.error=function(n){if(!this.isStopped){var r=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{r=new _e;try{var o=this.notifier;i=o(r)}catch(a){return t.prototype.error.call(this,a)}s=ce(i,new oe(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=i,this.retriesSubscription=s,r.next(n)}},e.prototype._unsubscribe=function(){var n=this,r=n.errors,i=n.retriesSubscription;r&&(r.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},e}(ae);function r1(t){return function(e){return e.lift(new i1(t))}}var i1=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new s1(e),i=n.subscribe(r);return i.add(ce(this.notifier,new oe(r))),i},t}(),s1=function(t){m.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasValue=!1,n}return e.prototype._next=function(n){this.value=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ae);function o1(t,e){return e===void 0&&(e=Ne),function(n){return n.lift(new a1(t,e))}}var a1=function(){function t(e,n){this.period=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new c1(e,this.period,this.scheduler))},t}(),c1=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.period=r,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(u1,r,{subscriber:s,period:r})),s}return e.prototype._next=function(n){this.lastValue=n,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(T);function u1(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function l1(t,e){return function(n){return n.lift(new f1(t,e))}}var f1=function(){function t(e,n){this.compareTo=e,this.comparator=n}return t.prototype.call=function(e,n){return n.subscribe(new d1(e,this.compareTo,this.comparator))},t}(),d1=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.compareTo=r,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(r.subscribe(new h1(n,s))),s}return e.prototype._next=function(n){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(n),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var n=this,r=n._a,i=n._b,s=n.comparator;r.length>0&&i.length>0;){var o=r.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(n){var r=this.destination;r.next(n),r.complete()},e.prototype.nextB=function(n){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(n),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(T),h1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.parent=r,i}return e.prototype._next=function(n){this.parent.nextB(n)},e.prototype._error=function(n){this.parent.error(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(T);function p1(){return new _e}function b1(){return function(t){return So()(en(p1)(t))}}function g1(t,e,n){var r;return t&&typeof t=="object"?r=t:r={bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(i){return i.lift(y1(r))}}function y1(t){var e=t.bufferSize,n=e===void 0?Number.POSITIVE_INFINITY:e,r=t.windowTime,i=r===void 0?Number.POSITIVE_INFINITY:r,s=t.refCount,o=t.scheduler,a,c=0,u,l=!1,f=!1;return function(h){c++;var _;!a||l?(l=!1,a=new xo(n,i,o),_=a.subscribe(this),u=h.subscribe({next:function(x){a.next(x)},error:function(x){l=!0,a.error(x)},complete:function(){f=!0,u=void 0,a.complete()}}),f&&(u=void 0)):_=a.subscribe(this),this.add(function(){c--,_.unsubscribe(),_=void 0,u&&!f&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function m1(t){return function(e){return e.lift(new v1(t,e))}}var v1=function(){function t(e,n){this.predicate=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new _1(e,this.predicate,this.source))},t}(),_1=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(n){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=n)},e.prototype._next=function(n){var r=this.index++;this.predicate?this.tryNext(n,r):this.applySingleValue(n)},e.prototype.tryNext=function(n,r){try{this.predicate(n,r,this.source)&&this.applySingleValue(n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var n=this.destination;this.index>0?(n.next(this.seenValue?this.singleValue:void 0),n.complete()):n.error(new kr)},e}(T);function w1(t){return function(e){return e.lift(new S1(t))}}var S1=function(){function t(e){this.total=e}return t.prototype.call=function(e,n){return n.subscribe(new E1(e,this.total))},t}(),E1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.total=r,i.count=0,i}return e.prototype._next=function(n){++this.count>this.total&&this.destination.next(n)},e}(T);function C1(t){return function(e){return e.lift(new x1(t))}}var x1=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new In}return t.prototype.call=function(e,n){return this._skipCount===0?n.subscribe(new T(e)):n.subscribe(new k1(e,this._skipCount))},t}(),k1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i._skipCount=r,i._count=0,i._ring=new Array(r),i}return e.prototype._next=function(n){var r=this._skipCount,i=this._count++;if(i<r)this._ring[i]=n;else{var s=i%r,o=this._ring,a=o[s];o[s]=n,this.destination.next(a)}},e}(T);function I1(t){return function(e){return e.lift(new M1(t))}}var M1=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){return n.subscribe(new R1(e,this.notifier))},t}(),R1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;i.hasValue=!1;var s=new oe(i);i.add(s),i.innerSubscription=s;var o=ce(r,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(n){this.hasValue&&t.prototype._next.call(this,n)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ae);function A1(t){return function(e){return e.lift(new T1(t))}}var T1=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,n){return n.subscribe(new O1(e,this.predicate))},t}(),O1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.predicate=r,i.skipping=!0,i.index=0,i}return e.prototype._next=function(n){var r=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||r.next(n)},e.prototype.tryCallPredicate=function(n){try{var r=this.predicate(n,this.index++);this.skipping=Boolean(r)}catch(i){this.destination.error(i)}},e}(T);function N1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Fe(n)?(t.pop(),function(r){return or(t,r,n)}):function(r){return or(t,r)}}var L1=function(t){m.exports.__extends(e,t);function e(n,r,i){r===void 0&&(r=0),i===void 0&&(i=Vr);var s=t.call(this)||this;return s.source=n,s.delayTime=r,s.scheduler=i,(!Mn(r)||r<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Vr),s}return e.create=function(n,r,i){return r===void 0&&(r=0),i===void 0&&(i=Vr),new e(n,r,i)},e.dispatch=function(n){var r=n.source,i=n.subscriber;return this.add(r.subscribe(i))},e.prototype._subscribe=function(n){var r=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,r,{source:i,subscriber:n})},e}(W);function P1(t,e){return e===void 0&&(e=0),function(r){return r.lift(new D1(t,e))}}var D1=function(){function t(e,n){this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return new L1(n,this.delay,this.scheduler).subscribe(e)},t}();function ar(t,e){return typeof e=="function"?function(n){return n.pipe(ar(function(r,i){return St(t(r,i)).pipe(Qe(function(s,o){return e(r,s,i,o)}))}))}:function(n){return n.lift(new j1(t))}}var j1=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new F1(e,this.project))},t}(),F1=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.project=r,i.index=0,i}return e.prototype._next=function(n){var r,i=this.index++;try{r=this.project(n,i)}catch(s){this.destination.error(s);return}this._innerSub(r)},e.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new oe(this),s=this.destination;s.add(i),this.innerSubscription=ce(n,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;(!n||n.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(ae);function B1(){return ar(Dt)}function $1(t,e){return e?ar(function(){return t},e):ar(function(){return t})}function W1(t){return function(e){return e.lift(new H1(t))}}var H1=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){var r=new V1(e),i=ce(this.notifier,new oe(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r},t}(),V1=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.seenValue=!1,r}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ae);function z1(t,e){return e===void 0&&(e=!1),function(n){return n.lift(new U1(t,e))}}var U1=function(){function t(e,n){this.predicate=e,this.inclusive=n}return t.prototype.call=function(e,n){return n.subscribe(new q1(e,this.predicate,this.inclusive))},t}(),q1=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.predicate=r,s.inclusive=i,s.index=0,s}return e.prototype._next=function(n){var r=this.destination,i;try{i=this.predicate(n,this.index++)}catch(s){r.error(s);return}this.nextOrComplete(n,i)},e.prototype.nextOrComplete=function(n,r){var i=this.destination;Boolean(r)?i.next(n):(this.inclusive&&i.next(n),i.complete())},e}(T);function J1(t,e,n){return function(i){return i.lift(new G1(t,e,n))}}var G1=function(){function t(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}return t.prototype.call=function(e,n){return n.subscribe(new Q1(e,this.nextOrObserver,this.error,this.complete))},t}(),Q1=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o._tapNext=ct,o._tapError=ct,o._tapComplete=ct,o._tapError=i||ct,o._tapComplete=s||ct,xn(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||ct,o._tapError=r.error||ct,o._tapComplete=r.complete||ct),o}return e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){this.destination.error(r);return}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){this.destination.error(n);return}return this.destination.complete()},e}(T),ql={leading:!0,trailing:!1};function Z1(t,e){return e===void 0&&(e=ql),function(n){return n.lift(new K1(t,!!e.leading,!!e.trailing))}}var K1=function(){function t(e,n,r){this.durationSelector=e,this.leading=n,this.trailing=r}return t.prototype.call=function(e,n){return n.subscribe(new Y1(e,this.durationSelector,this.leading,this.trailing))},t}(),Y1=function(t){m.exports.__extends(e,t);function e(n,r,i,s){var o=t.call(this,n)||this;return o.destination=n,o.durationSelector=r,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},e.prototype.send=function(){var n=this,r=n._hasValue,i=n._sendValue;r&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(n){var r=this.tryDurationSelector(n);r&&this.add(this._throttled=ce(r,new oe(this)))},e.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},e.prototype.throttlingDone=function(){var n=this,r=n._throttled,i=n._trailing;r&&r.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ae);function X1(t,e,n){return e===void 0&&(e=Ne),n===void 0&&(n=ql),function(r){return r.lift(new ew(t,e,n.leading,n.trailing))}}var ew=function(){function t(e,n,r,i){this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i}return t.prototype.call=function(e,n){return n.subscribe(new tw(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),tw=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.duration=r,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(nw,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(T);function nw(t){var e=t.subscriber;e.clearThrottle()}function rw(t){return t===void 0&&(t=Ne),function(e){return Mo(function(){return e.pipe(ei(function(n,r){var i=n.current;return{value:r,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Qe(function(n){var r=n.current,i=n.last,s=n.value;return new iw(s,r-i)}))})}}var iw=function(){function t(e,n){this.value=e,this.interval=n}return t}();function Jl(t,e,n){return n===void 0&&(n=Ne),function(r){var i=Hl(t),s=i?+t-n.now():Math.abs(t);return r.lift(new sw(s,i,e,n))}}var sw=function(){function t(e,n,r,i){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new ow(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),ow=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;return a.absoluteTimeout=r,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(ce(r,new oe(n)))},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ae);function aw(t,e){return e===void 0&&(e=Ne),Jl(t,Co(new sl),e)}function cw(t){return t===void 0&&(t=Ne),Qe(function(e){return new uw(e,t.now())})}var uw=function(){function t(e,n){this.value=e,this.timestamp=n}return t}();function lw(t,e,n){return n===0?[e]:(t.push(e),t)}function fw(){return Vi(lw,[])}function dw(t){return function(n){return n.lift(new hw(t))}}var hw=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,n){var r=new pw(e),i=n.subscribe(r);return i.closed||r.add(ce(this.windowBoundaries,new oe(r))),i},t}(),pw=function(t){m.exports.__extends(e,t);function e(n){var r=t.call(this,n)||this;return r.window=new _e,n.next(r.window),r}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var n=this.window;n&&n.complete();var r=this.destination,i=this.window=new _e;r.next(i)},e}(ae);function bw(t,e){return e===void 0&&(e=0),function(r){return r.lift(new gw(t,e))}}var gw=function(){function t(e,n){this.windowSize=e,this.startWindowEvery=n}return t.prototype.call=function(e,n){return n.subscribe(new yw(e,this.windowSize,this.startWindowEvery))},t}(),yw=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.destination=n,s.windowSize=r,s.startWindowEvery=i,s.windows=[new _e],s.count=0,n.next(s.windows[0]),s}return e.prototype._next=function(n){for(var r=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(n);var u=this.count-s+1;if(u>=0&&u%r===0&&!this.closed&&o.shift().complete(),++this.count%r===0&&!this.closed){var l=new _e;o.push(l),i.next(l)}},e.prototype._error=function(n){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(T);function mw(t){var e=Ne,n=null,r=Number.POSITIVE_INFINITY;return Fe(arguments[3])&&(e=arguments[3]),Fe(arguments[2])?e=arguments[2]:Mn(arguments[2])&&(r=Number(arguments[2])),Fe(arguments[1])?e=arguments[1]:Mn(arguments[1])&&(n=Number(arguments[1])),function(s){return s.lift(new vw(t,n,r,e))}}var vw=function(){function t(e,n,r,i){this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i}return t.prototype.call=function(e,n){return n.subscribe(new ww(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),_w=function(t){m.exports.__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._numberOfNextedValues=0,n}return e.prototype.next=function(n){this._numberOfNextedValues++,t.prototype.next.call(this,n)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(_e),ww=function(t){m.exports.__extends(e,t);function e(n,r,i,s,o){var a=t.call(this,n)||this;a.destination=n,a.windowTimeSpan=r,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:r,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Gl,r,u)),a.add(o.schedule(Ew,i,l))}else{var f={subscriber:a,window:c,windowTimeSpan:r};a.add(o.schedule(Sw,r,f))}return a}return e.prototype._next=function(n){for(var r=this.windows,i=r.length,s=0;s<i;s++){var o=r[s];o.closed||(o.next(n),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(n){for(var r=this.windows;r.length>0;)r.shift().error(n);this.destination.error(n)},e.prototype._complete=function(){for(var n=this.windows;n.length>0;){var r=n.shift();r.closed||r.complete()}this.destination.complete()},e.prototype.openWindow=function(){var n=new _w;this.windows.push(n);var r=this.destination;return r.next(n),n},e.prototype.closeWindow=function(n){n.complete();var r=this.windows;r.splice(r.indexOf(n),1)},e}(T);function Sw(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function Ew(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,s=n.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:n,window:s,context:a};a.subscription=r.schedule(Gl,e,c),o.add(a.subscription),o.schedule(t,i)}function Gl(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function Cw(t,e){return function(n){return n.lift(new xw(t,e))}}var xw=function(){function t(e,n){this.openings=e,this.closingSelector=n}return t.prototype.call=function(e,n){return n.subscribe(new kw(e,this.openings,this.closingSelector))},t}(),kw=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;return s.openings=r,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=_t(s,r,r)),s}return e.prototype._next=function(n){var r=this.contexts;if(r)for(var i=r.length,s=0;s<i;s++)r[s].window.next(n)},e.prototype._error=function(n){var r=this.contexts;if(this.contexts=null,r)for(var i=r.length,s=-1;++s<i;){var o=r[s];o.window.error(n),o.subscription.unsubscribe()}t.prototype._error.call(this,n)},e.prototype._complete=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var s=n[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(n,r,i,s,o){if(n===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(r)}catch(h){return this.error(h)}var u=new _e,l=new ie,f={window:u,subscription:l};this.contexts.push(f);var d=_t(this,a,f);d.closed?this.closeWindow(this.contexts.length-1):(d.context=f,l.add(d)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(n))},e.prototype.notifyError=function(n){this.error(n)},e.prototype.notifyComplete=function(n){n!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(n.context))},e.prototype.closeWindow=function(n){if(n!==-1){var r=this.contexts,i=r[n],s=i.window,o=i.subscription;r.splice(n,1),s.complete(),o.unsubscribe()}},e}(an);function Iw(t){return function(n){return n.lift(new Mw(t))}}var Mw=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new Rw(e,this.closingSelector))},t}(),Rw=function(t){m.exports.__extends(e,t);function e(n,r){var i=t.call(this,n)||this;return i.destination=n,i.closingSelector=r,i.openWindow(),i}return e.prototype.notifyNext=function(n,r,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(n){this._error(n)},e.prototype.notifyComplete=function(n){this.openWindow(n)},e.prototype._next=function(n){this.window.next(n)},e.prototype._error=function(n){this.window.error(n),this.destination.error(n),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(n){n===void 0&&(n=null),n&&(this.remove(n),n.unsubscribe());var r=this.window;r&&r.complete();var i=this.window=new _e;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=_t(this,s))},e}(an);function Aw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var r;typeof t[t.length-1]=="function"&&(r=t.pop());var i=t;return n.lift(new Tw(i,r))}}var Tw=function(){function t(e,n){this.observables=e,this.project=n}return t.prototype.call=function(e,n){return n.subscribe(new Ow(e,this.observables,this.project))},t}(),Ow=function(t){m.exports.__extends(e,t);function e(n,r,i){var s=t.call(this,n)||this;s.observables=r,s.project=i,s.toRespond=[];var o=r.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=r[a];s.add(_t(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(n,r,i){this.values[i]=r;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(n){if(this.toRespond.length===0){var r=[n].concat(this.values);this.project?this._tryProject(r):this.destination.next(r)}},e.prototype._tryProject=function(n){var r;try{r=this.project.apply(this,n)}catch(i){this.destination.error(i);return}this.destination.next(r)},e}(an);function Nw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(_l.apply(void 0,[r].concat(t)))}}function Lw(t){return function(e){return e.lift(new wl(t))}}const Pw=Object.freeze(Object.defineProperty({__proto__:null,audit:Bl,auditTime:Pm,buffer:Dm,bufferCount:Bm,bufferTime:Vm,bufferToggle:Gm,bufferWhen:Km,catchError:ev,combineAll:rv,combineLatest:iv,concat:sv,concatAll:fl,concatMap:Wl,concatMapTo:ov,count:av,debounce:lv,debounceTime:hv,defaultIfEmpty:Mr,delay:vv,delayWhen:Ev,dematerialize:Iv,distinct:Av,distinctUntilChanged:Vl,distinctUntilKeyChanged:Pv,elementAt:Wv,endWith:Hv,every:Vv,exhaust:qv,exhaustMap:zl,expand:Kv,filter:Ft,finalize:e_,find:r_,findIndex:s_,first:o_,groupBy:lg,ignoreElements:a_,isEmpty:l_,last:b_,map:Qe,mapTo:g_,materialize:v_,max:C_,merge:x_,mergeAll:Io,mergeMap:Xt,flatMap:ny,mergeMapTo:k_,mergeScan:I_,min:A_,multicast:en,observeOn:_g,onErrorResumeNext:O_,pairwise:P_,partition:F_,pluck:B_,publish:W_,publishBehavior:H_,publishLast:V_,publishReplay:z_,race:U_,reduce:Vi,repeat:q_,repeatWhen:G_,retry:K_,retryWhen:e1,refCount:So,sample:r1,sampleTime:o1,scan:ei,sequenceEqual:l1,share:b1,shareReplay:g1,single:m1,skip:w1,skipLast:C1,skipUntil:I1,skipWhile:A1,startWith:N1,subscribeOn:P1,switchAll:B1,switchMap:ar,switchMapTo:$1,take:Wo,takeLast:Xr,takeUntil:W1,takeWhile:z1,tap:J1,throttle:Z1,throttleTime:X1,throwIfEmpty:Hi,timeInterval:rw,timeout:aw,timeoutWith:Jl,timestamp:cw,toArray:fw,window:dw,windowCount:bw,windowTime:mw,windowToggle:Cw,windowWhen:Iw,withLatestFrom:Aw,zip:Nw,zipAll:Lw},Symbol.toStringTag,{value:"Module"})),Ho=tn(Pw);var zi={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.ClientMessagePublishEvent=Ue.ClientMessageSetSessionConfig=Ue.ClientMessageGetSessionConfig=Ue.ClientMessageIsLinked=Ue.ClientMessageHostSession=void 0;function Dw(t){return Object.assign({type:"HostSession"},t)}Ue.ClientMessageHostSession=Dw;function jw(t){return Object.assign({type:"IsLinked"},t)}Ue.ClientMessageIsLinked=jw;function Fw(t){return Object.assign({type:"GetSessionConfig"},t)}Ue.ClientMessageGetSessionConfig=Fw;function Bw(t){return Object.assign({type:"SetSessionConfig"},t)}Ue.ClientMessageSetSessionConfig=Bw;function $w(t){return Object.assign({type:"PublishEvent"},t)}Ue.ClientMessagePublishEvent=$w;var Ql={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Ii,n=Ho;var r;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(r=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(r.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(r.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(r.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(r.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,n.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(r.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,n.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Ql);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.isServerMessageFail=void 0;function Ww(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Ui.isServerMessageFail=Ww;Object.defineProperty(zi,"__esModule",{value:!0});zi.WalletSDKConnection=void 0;const Ye=Ii,z=Ho,Un=Ln,ln=ur,qn=Ue,Jn=On,Br=Ql,_s=Ui,yc=1e4,Hw=6e4;class Vw{constructor(e,n,r,i,s=WebSocket){this.sessionId=e,this.sessionKey=n,this.diagnostic=i,this.subscriptions=new Ye.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,ln.IntNumber)(1),this.connectedSubject=new Ye.BehaviorSubject(!1),this.linkedSubject=new Ye.BehaviorSubject(!1),this.sessionConfigSubject=new Ye.ReplaySubject(1);const o=new Br.RxWebSocket(r+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,z.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Jn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Un.Session.hash(e)})}),(0,z.skip)(1),(0,z.filter)(a=>a===Br.ConnectionState.DISCONNECTED&&!this.destroyed),(0,z.delay)(5e3),(0,z.filter)(a=>!this.destroyed),(0,z.flatMap)(a=>o.connect()),(0,z.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,z.skip)(2),(0,z.switchMap)(a=>(0,Ye.iif)(()=>a===Br.ConnectionState.CONNECTED,this.authenticate().pipe((0,z.tap)(c=>this.sendIsLinked()),(0,z.tap)(c=>this.sendGetSessionConfig()),(0,z.map)(c=>!0)),(0,Ye.of)(!1))),(0,z.distinctUntilChanged)(),(0,z.catchError)(a=>(0,Ye.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,z.skip)(1),(0,z.switchMap)(a=>(0,Ye.iif)(()=>a===Br.ConnectionState.CONNECTED,(0,Ye.timer)(0,yc)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,z.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,z.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Jn.EVENTS.LINKED,{sessionIdHash:Un.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,z.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Jn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Un.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Jn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Un.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Jn.EVENTS.DISCONNECTED,{sessionIdHash:Un.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,z.filter)(e=>e),(0,z.take)(1),(0,z.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,z.filter)(e=>e),(0,z.take)(1),(0,z.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,z.filter)(e=>{if(e.type!=="Event")return!1;const n=e;return typeof n.sessionId=="string"&&typeof n.eventId=="string"&&typeof n.event=="string"&&typeof n.data=="string"}),(0,z.map)(e=>e))}setSessionMetadata(e,n){const r=(0,qn.ClientMessageSetSessionConfig)({id:(0,ln.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:n}});return this.onceConnected$.pipe((0,z.flatMap)(i=>this.makeRequest(r)),(0,z.map)(i=>{if((0,_s.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,n,r=!1){const i=(0,qn.ClientMessagePublishEvent)({id:(0,ln.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:n,callWebhook:r});return this.onceLinked$.pipe((0,z.flatMap)(s=>this.makeRequest(i)),(0,z.map)(s=>{if((0,_s.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>yc*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,n=Hw){const r=e.id;try{this.sendData(e)}catch(i){return(0,Ye.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,z.timeoutWith)(n,(0,Ye.throwError)(new Error(`request ${r} timed out`))),(0,z.filter)(i=>i.id===r),(0,z.take)(1))}authenticate(){const e=(0,qn.ClientMessageHostSession)({id:(0,ln.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,z.map)(n=>{if((0,_s.isServerMessageFail)(n))throw new Error(n.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,qn.ClientMessageIsLinked)({id:(0,ln.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,qn.ClientMessageGetSessionConfig)({id:(0,ln.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}zi.WalletSDKConnection=Vw;var An={};Object.defineProperty(An,"__esModule",{value:!0});An.decrypt=An.encrypt=void 0;const ti=R;async function zw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.importKey("raw",(0,ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},r,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),l=new Uint8Array(c),f=new Uint8Array([...n,...u,...l]);return(0,ti.uint8ArrayToHex)(f)}An.encrypt=zw;function Uw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((n,r)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,ti.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,ti.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),l={name:"AES-GCM",iv:new Uint8Array(o)};try{const f=await window.crypto.subtle.decrypt(l,i,u),d=new TextDecoder;n(d.decode(f))}catch(f){r(f)}})()})}An.decrypt=Uw;var qi={},Ji={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ji);Object.defineProperty(qi,"__esModule",{value:!0});qi.Web3RequestCanceledMessage=void 0;const qw=Ji;function Jw(t){return{type:qw.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}qi.Web3RequestCanceledMessage=Jw;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.Web3RequestMessage=void 0;const Gw=Ji;function Qw(t){return Object.assign({type:Gw.RelayMessageType.WEB3_REQUEST},t)}Gi.Web3RequestMessage=Qw;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.isWeb3ResponseMessage=Tn.Web3ResponseMessage=void 0;const Zl=Ji;function Zw(t){return Object.assign({type:Zl.RelayMessageType.WEB3_RESPONSE},t)}Tn.Web3ResponseMessage=Zw;function Kw(t){return t&&t.type===Zl.RelayMessageType.WEB3_RESPONSE}Tn.isWeb3ResponseMessage=Kw;var Yw=A&&A.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xw=A&&A.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kl=A&&A.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eS=A&&A.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Yw(e,t,n);return Xw(e,t),e},tS=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});$i.WalletSDKRelay=void 0;const Yl=tS(Wi),Vt=Ii,ge=Ho,Ie=On,nS=zi,fn=cr,rS=ur,ee=R,It=eS(An),Mt=Ln,$r=tt,we=ai,iS=qi,sS=Gi,Ve=Y,Le=Tn;class et extends $r.WalletSDKRelayAbstract{constructor(e){var n;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Vt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Vt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:r,ui:i,connection:s}=this.subscribe();if(this._session=r,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(n=e.reloadOnDisconnect)!==null&&n!==void 0?n:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Mt.Session.load(this.storage)||new Mt.Session(this.storage).save(),n=new nS.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(n.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(n.incomingEvent$.pipe((0,ge.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(n.linked$.pipe((0,ge.skip)(1),(0,ge.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem($r.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Ie.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=n.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,ge.mergeMap)(i=>It.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem($r.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,ge.mergeMap)(i=>It.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem($r.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,ge.mergeMap)(i=>(0,Vt.zip)(It.decrypt(i.metadata.ChainId,e.secret),It.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,ge.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,ge.mergeMap)(i=>It.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),et.accountRequestCallbackIds.size>0&&(Array.from(et.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Le.Web3ResponseMessage)({id:s,response:(0,Ve.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),et.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(n.sessionConfig$.pipe((0,ge.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,ge.mergeMap)(i=>It.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const r=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:n.connected$,chainId$:this.dappDefaultChainSubject});return n.connect(),{session:e,ui:r,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,ge.timeout)(1e3),(0,ge.catchError)(e=>(0,Vt.of)(null))).subscribe(e=>{var n,r,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Mt.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Ie.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Mt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Vt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,n){this.appName=e,this.appLogoUrl=n}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,n){this.storage.setItem(e,n)}signEthereumMessage(e,n,r,i){return this.sendRequest({method:we.Web3Method.signEthereumMessage,params:{message:(0,ee.hexStringFromBuffer)(e,!0),address:n,addPrefix:r,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,n,r){return this.sendRequest({method:we.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ee.hexStringFromBuffer)(e,!0),signature:(0,ee.hexStringFromBuffer)(n,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:we.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ee.bigIntStringFromBN)(e.weiValue),data:(0,ee.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ee.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:we.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ee.bigIntStringFromBN)(e.weiValue),data:(0,ee.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ee.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ee.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ee.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ee.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:we.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ee.hexStringFromBuffer)(e,!0),chainId:n}})}scanQRCode(e){return this.sendRequest({method:we.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ee.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,n){return this.sendRequest({method:we.Web3Method.generic,params:{action:n,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const r=(0,ee.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,o),n==null||n()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(r,c=>{if(n==null||n(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(r,e):this.publishWeb3RequestEvent(r,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,n){var r;const i=(0,sS.Web3RequestMessage)({id:e,request:n}),s=Mt.Session.load(this.storage);(r=this.diagnostic)===null||r===void 0||r.log(Ie.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Mt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ie.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Mt.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const n=(0,iS.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",n,!1).subscribe())}publishEvent(e,n,r){const i=this.session.secret;return new Vt.Observable(s=>{It.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,ge.mergeMap)(s=>this.connection.publishEvent(e,s,r)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Vt.from)(It.decrypt(e.data,this.session.secret)).pipe((0,ge.map)(n=>JSON.parse(n))).subscribe({next:n=>{const r=(0,Le.isWeb3ResponseMessage)(n)?n:null;!r||this.handleWeb3ResponseMessage(r)},error:()=>{var n;(n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var n;const{response:r}=e;if((n=this.diagnostic)===null||n===void 0||n.log(Ie.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ve.isRequestEthereumAccountsResponse)(r)){et.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),et.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,n,r,i){var s;const o=(s=r==null?void 0:r.message)!==null&&s!==void 0?s:(0,fn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:e,response:{method:n,errorMessage:o,errorCode:i}}))}invokeCallback(e){const n=this.relayEventManager.callbacks.get(e.id);n&&(n(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:we.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},n=(0,ee.randomBytesHex)(8),r=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(n,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,ee.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=l=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:n,response:(0,Ve.RequestEthereumAccountsResponse)(l)}))};this.ui.requestEthereumAccounts({onCancel:r,onAccounts:u})}else{const u=fn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>r(u)})}et.accountRequestCallbackIds.add(n),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(n,e)}),cancel:r}}selectProvider(e){const n={method:we.Web3Method.selectProvider,params:{providerOptions:e}},r=(0,ee.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,n.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(r,l=>{if(l.errorMessage)return a(new Error(l.errorMessage));o(l)});const c=l=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:r,response:(0,Ve.SelectProviderResponse)(rS.ProviderType.Unselected)}))},u=l=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:r,response:(0,Ve.SelectProviderResponse)(l)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,n,r,i,s,o){const a={method:we.Web3Method.watchAsset,params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:o}};let c=null;const u=(0,ee.randomBytesHex)(8),l=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload}));const f=new Promise((d,h)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return h(new Error(w.errorMessage));d(w)});const _=w=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:u,response:(0,Ve.WatchAssetReponse)(!1)}))},x=()=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:u,response:(0,Ve.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:x,onCancel:_,type:e,address:n,symbol:r,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:l,promise:f}}addEthereumChain(e,n,r,i,s,o){const a={method:we.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:o}};let c=null;const u=(0,ee.randomBytesHex)(8),l=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:l,onResetConnection:this.resetAndReload})),{promise:new Promise((d,h)=>{this.relayEventManager.callbacks.set(u,w=>{if(c==null||c(),w.errorMessage)return h(new Error(w.errorMessage));d(w)});const _=w=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:u,response:(0,Ve.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},x=w=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:u,response:(0,Ve.AddEthereumChainResponse)({isApproved:!0,rpcUrl:w})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:_,onApprove:x,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:l}}switchEthereumChain(e,n){const r={method:we.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:n})},i=(0,ee.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,f=>{if((0,Ve.isErrorResponse)(f)&&f.errorCode)return c(fn.standardErrors.provider.custom({code:f.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(f.errorMessage)return c(new Error(f.errorMessage));a(f)});const u=f=>{var d;if(f){const h=(d=(0,fn.getErrorCode)(f))!==null&&d!==void 0?d:fn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,we.Web3Method.switchEthereumChain,f instanceof Error?f:fn.standardErrors.provider.unsupportedChain(e),h)}else this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:i,response:(0,Ve.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},l=f=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:i,response:(0,Ve.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:f})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:l,chainId:r.params.chainId,address:r.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,r)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Mt.Session.hash(this._session.id)}sendRequestStandalone(e,n){const r=s=>{this.handleErrorResponse(e,n.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Le.Web3ResponseMessage)({id:e,response:s}))};switch(n.method){case we.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:n,onSuccess:i,onCancel:r});break;case we.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case we.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:n,onSuccess:i,onCancel:r});break;case we.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:n,onSuccess:i});break;default:r();break}}onSessionConfigChanged(e){}}et.accountRequestCallbackIds=new Set;Kl([Yl.default],et.prototype,"resetAndReload",null);Kl([Yl.default],et.prototype,"handleIncomingEvent",null);$i.WalletSDKRelay=et;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.WalletSDKRelayEventManager=void 0;const oS=R;class aS{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=(0,oS.prepend0x)(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}Qi.WalletSDKRelayEventManager=aS;Object.defineProperty(tr,"__esModule",{value:!0});tr.CoinbaseWalletSDK=void 0;const cS=ri,uS=ii,lS=si,fS=vn,dS=Ei,hS=$i,pS=Qi,bS=R,Xl=Nn;class Zi{constructor(e){var n,r,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||uS.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new dS.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(n=e.overrideIsCoinbaseWallet)!==null&&n!==void 0?n:!0,this._overrideIsCoinbaseBrowser=(r=e.overrideIsCoinbaseBrowser)!==null&&r!==void 0?r:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new lS.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Zi.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new pS.WalletSDKRelayEventManager,this._relay=new hS.WalletSDKRelay({linkAPIUrl:s,version:Xl.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",n=1){const r=this.walletExtension;if(r)return this.isCipherProvider(r)||r.setProviderInfo(e,n),this._reloadOnDisconnect===!1&&typeof r.disableReloadOnDisconnect=="function"&&r.disableReloadOnDisconnect(),r;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new fS.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:n,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,n){var r;this._appName=e||"DApp",this._appLogoUrl=n||(0,bS.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(r=this._relay)===null||r===void 0||r.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const n=this.walletExtension;n?n.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,n;return(n=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&n!==void 0?n:null}getCoinbaseWalletLogo(e,n=240){return(0,cS.walletLogo)(e,n)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,n;try{const r=(e=window.ethereum)!==null&&e!==void 0?e:(n=window.top)===null||n===void 0?void 0:n.ethereum;return r&&"isCoinbaseBrowser"in r&&r.isCoinbaseBrowser?r:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}tr.CoinbaseWalletSDK=Zi;Zi.VERSION=Xl.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=tr,n=vn;var r=tr;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}});var i=vn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=n.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=n.CoinbaseWalletProvider)})(zs);const gS=of(zs),wS=lf({__proto__:null,default:gS},[zs]);export{wS as i};
